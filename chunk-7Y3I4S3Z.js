import{e as A}from"./chunk-PCT2X63S.js";import{q as x}from"./chunk-X37QOLRV.js";import{B as c,Sa as y,Z as u,aa as d,b as m,ba as I,e as a,ka as l,n as f,na as i,p as P,pa as r,u as S}from"./chunk-KG2R5REB.js";var o=new i("[WA_PERMISSIONS]",{factory:()=>r(A).permissions});var N=new i("[WA_PERMISSIONS_SUPPORT]",{factory:()=>!!r(o)});var R=class e{isServer=x(r(y));permissions=r(o);permissionsSupported=r(N);state(t){let s=typeof t=="string"?{name:t}:t;return this.isServer?f:new a(n=>this.permissionsSupported?P(this.permissions.query(s)).pipe(I(p=>c(p,"change").pipe(d(null),S(()=>p.state)))).subscribe(n):(n.error("Permissions is not supported in your browser"),new m)).pipe(u({bufferSize:1,refCount:!0}))}static \u0275fac=function(s){return new(s||e)};static \u0275prov=l({token:e,factory:e.\u0275fac,providedIn:"root"})};function q(e){return e==="granted"}function F(e){return e==="denied"}export{N as a,R as b,q as c,F as d};
