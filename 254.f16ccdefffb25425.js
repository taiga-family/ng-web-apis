"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[254],{5254:n=>{n.exports="import {CommonModule} from '@angular/common';\nimport {ChangeDetectionStrategy, Component, inject} from '@angular/core';\nimport {WaNotificationService} from '@ng-web-apis/notification';\nimport {isDenied, isGranted, WaPermissionsService} from '@ng-web-apis/permissions';\nimport {TuiButton} from '@taiga-ui/core';\nimport {filter, map, switchMap, takeUntil, timer} from 'rxjs';\n\n@Component({\n    selector: 'notification-page-example-3',\n    imports: [CommonModule, TuiButton],\n    templateUrl: './index.html',\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class NotificationPageExample3 {\n    private readonly notifications: WaNotificationService = inject(WaNotificationService);\n\n    protected readonly denied$ = inject(WaPermissionsService)\n        .state('notifications')\n        .pipe(map(isDenied));\n\n    protected sendNotification(): void {\n        this.notifications\n            .requestPermission()\n            .pipe(\n                filter(isGranted),\n                switchMap(() =>\n                    this.notifications.open('Close me, please!', {\n                        requireInteraction: true,\n                    }),\n                ),\n                takeUntil(timer(5_000)), // close stream after 5 seconds\n            )\n            .subscribe({\n                complete: () => console.info('Notification closed!'),\n            });\n    }\n}\n"}}]);