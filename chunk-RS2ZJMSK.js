import{a as re,b as ce}from"./chunk-N64BQV73.js";import{a as ae}from"./chunk-SSVO567R.js";import"./chunk-S4KLR4OQ.js";import{b as oe}from"./chunk-MXA5LQK5.js";import"./chunk-J25ZYXUH.js";import"./chunk-5PZMI3PJ.js";import"./chunk-OGJCHDNF.js";import"./chunk-LWKLXDKO.js";import"./chunk-3VG4TGX5.js";import"./chunk-QURY7JOQ.js";import{b as C}from"./chunk-NSMAPXG6.js";import"./chunk-DLX72MFW.js";import{b as ne}from"./chunk-PEJ7EE5R.js";import"./chunk-MVBQ4QH2.js";import"./chunk-OTLIHRLE.js";import"./chunk-7DO6NSGI.js";import"./chunk-JYWUUMHF.js";import"./chunk-34U4OIOH.js";import"./chunk-5OKOC4JC.js";import"./chunk-LX5TT755.js";import"./chunk-GUAY7ENF.js";import{b as h}from"./chunk-TZNNL55O.js";import"./chunk-O5TWG2KG.js";import{b as x,c as T,d as D}from"./chunk-7Y3I4S3Z.js";import"./chunk-P3XR4P57.js";import"./chunk-V7CFWCLC.js";import"./chunk-UNR3ZOEG.js";import"./chunk-Y7XNAN3T.js";import"./chunk-PCT2X63S.js";import"./chunk-QAYQBKTV.js";import{i as u,l as g}from"./chunk-X37QOLRV.js";import{$b as K,B as F,Bb as p,Bc as A,C as O,G as E,Hb as w,Hc as ee,Ic as te,Jc as ie,Oc as d,Pb as N,Pc as f,Qb as H,Rb as P,Sc as I,Wb as _,Xb as t,Yb as i,Zb as l,_b as J,ba as v,ca as G,fc as Q,gc as X,jb as s,jc as S,kc as Z,lc as b,pa as c,u as y,vc as k,wa as V,xa as Y,zc as e}from"./chunk-KG2R5REB.js";import"./chunk-GAL4ENT6.js";function le(n,a){n&1&&(t(0,"span",0),e(1," Permission is granted "),i())}function me(n,a){n&1&&(t(0,"span",1),e(1," Permission is denied "),i())}function pe(n,a){if(n&1){let o=Q();t(0,"button",3),S("click",function(){V(o);let m=b();return Y(m.requestPermission())}),e(1," Request permission "),i()}}var W=class n{notifications=c(h);notificationPermissionState$=c(x).state("notifications");requestPermission(){this.notifications.requestPermission().subscribe({next:a=>console.info("Permission status:",a),error:a=>console.error(a)})}static \u0275fac=function(o){return new(o||n)};static \u0275cmp=p({type:n,selectors:[["notification-page-example-1"]],decls:4,vars:3,consts:[["appearance","success","tuiBadge",""],["appearance","error","tuiBadge",""],["tuiButton","","type","button"],["tuiButton","","type","button",3,"click"]],template:function(o,r){if(o&1&&(N(0,le,2,0,"span",0),d(1,"async"),H(2,me,2,0,"span",1)(3,pe,2,0,"button",2)),o&2){let m;P((m=f(1,1,r.notificationPermissionState$))==="granted"?0:m==="denied"?2:3)}},dependencies:[g,ae,C,u],encapsulation:2,changeDetection:0})};var q=class n{notifications=c(h);denied$=c(x).state("notifications").pipe(y(D));sendNotification(){this.notifications.requestPermission().pipe(E(T),v(()=>this.notifications.open("Web APIs for Angular",{body:"High quality lightweight wrappers for native Web APIs for idiomatic use with Angular",icon:"assets/images/web-api.svg"}))).subscribe()}static \u0275fac=function(o){return new(o||n)};static \u0275cmp=p({type:n,selectors:[["notification-page-example-2"]],decls:3,vars:3,consts:[["tuiButton","","type","button",3,"click","disabled"]],template:function(o,r){o&1&&(J(0,"button",0),d(1,"async"),Z("click",function(){return r.sendNotification()}),e(2,` Send notification
`),K()),o&2&&X("disabled",f(1,1,r.denied$))},dependencies:[g,u],encapsulation:2,changeDetection:0})};var $=class n{notifications=c(h);denied$=c(x).state("notifications").pipe(y(D));sendNotification(){this.notifications.requestPermission().pipe(E(T),v(()=>this.notifications.open("Close me, please!",{requireInteraction:!0})),G(O(5e3))).subscribe({complete:()=>console.info("Notification closed!")})}static \u0275fac=function(o){return new(o||n)};static \u0275cmp=p({type:n,selectors:[["notification-page-example-3"]],decls:3,vars:3,consts:[["tuiButton","","type","button",3,"click","disabled"]],template:function(o,r){o&1&&(t(0,"button",0),d(1,"async"),S("click",function(){return r.sendNotification()}),e(2,` Send notification
`),i()),o&2&&_("disabled",f(1,1,r.denied$))},dependencies:[g,C,u],encapsulation:2,changeDetection:0})};var U=class n{notifications=c(h);denied$=c(x).state("notifications").pipe(y(D));sendNotification(){this.notifications.requestPermission().pipe(E(T),v(()=>this.notifications.open("Click me, please",{body:'Then open console and investigate property "target"',requireInteraction:!0,data:`Randomly generated number: ${Math.random().toFixed(2)}`})),v(a=>F(a,"click"))).subscribe(console.info)}static \u0275fac=function(o){return new(o||n)};static \u0275cmp=p({type:n,selectors:[["notification-page-example-4"]],decls:3,vars:3,consts:[["tuiButton","","type","button",3,"click","disabled"]],template:function(o,r){o&1&&(t(0,"button",0),d(1,"async"),S("click",function(){return r.sendNotification()}),e(2,` Send notification
`),i()),o&2&&_("disabled",f(1,1,r.denied$))},dependencies:[g,C,u],encapsulation:2,changeDetection:0})};function de(n,a){n&1&&(e(0," Before an app can send a notification, the user must grant the application the right to do so. "),t(1,"p"),e(2," Use "),t(3,"code"),e(4,"requestPermission"),i(),e(5," method to request consent to display notifications. "),l(6,"br"),e(7," It returns Observable which emits value after user select option inside system prompt. "),i())}function fe(n,a){n&1&&(e(0," Use "),t(1,"code"),e(2,"open"),i(),e(3," method to create a notification. "),t(4,"p"),e(5," The first argument is a "),t(6,"strong"),e(7,"title"),i(),e(8," to display within the notification. "),i(),t(9,"p"),e(10," The second argument contains many experimental "),t(11,"strong"),e(12,"options"),i(),e(13," to enhance the notification behavior and appearance. "),l(14,"br"),e(15," See the full "),t(16,"a",15),e(17," list of available options "),i(),e(18," . "),i())}function ue(n,a){if(n&1&&(t(0,"div",12),e(1),i()),n&2){let o=b(2);s(),A(" ",o.deniedPermissionNotification," ")}}function ge(n,a){n&1&&(t(0,"p"),e(1," The observable (returned by "),t(2,"code"),e(3,"open"),i(),e(4," method) automatically "),t(5,"strong"),e(6,"completes"),i(),e(7," the stream when the notification is closed (e.g. user clicks the close button). "),i(),t(8,"p"),e(9," You can also close the notification manually by closing the stream by "),t(10,"code"),e(11,"takeUntil"),i(),e(12," operator. "),i())}function xe(n,a){if(n&1&&(t(0,"div",12),e(1),i()),n&2){let o=b(2);s(),A(" ",o.deniedPermissionNotification," ")}}function _e(n,a){n&1&&(e(0," The observable (returned by "),t(1,"code"),e(2,"open"),i(),e(3," method) emits "),t(4,"code"),e(5,"Notification"),i(),e(6," instance after its successful creation. "),t(7,"p"),e(8," Use rxjs function "),t(9,"code"),e(10,"fromEvent"),i(),e(11," to listen events that can be triggered on the "),t(12,"code"),e(13,"Notification"),i(),e(14," instance. "),l(15,"br"),e(16," See the full "),t(17,"a",16),e(18," list of available events "),i(),e(19," . "),i())}function he(n,a){if(n&1&&(t(0,"div",12),e(1),i()),n&2){let o=b(2);s(),A(" ",o.deniedPermissionNotification," ")}}function ve(n,a){if(n&1&&(t(0,"section")(1,"tui-doc-example",9),w(2,de,8,0,"ng-template",null,0,I),t(4,"div",10)(5,"div"),e(6," Notification prompting can only be done from a user gesture (e.g. clicking a button)! "),l(7,"br"),e(8," Otherwise, some browsers will silently disallow notification permission requests. "),i()(),l(9,"notification-page-example-1"),i(),t(10,"tui-doc-example",11),w(11,fe,19,0,"ng-template",null,1,I),N(13,ue,2,1,"div",12),l(14,"notification-page-example-2"),i(),t(15,"tui-doc-example",13),w(16,ge,13,0,"ng-template",null,2,I),N(18,xe,2,1,"div",12),l(19,"notification-page-example-3"),i(),t(20,"tui-doc-example",14),w(21,_e,20,0,"ng-template",null,3,I),N(23,he,2,1,"div",12),l(24,"notification-page-example-4"),i()()),n&2){let o=k(3),r=k(12),m=k(17),se=k(22),M=b(),j=ie(16);s(),_("content",M.gettingPermissionExample)("description",o),s(9),_("content",M.createNotificationExample)("description",r),s(3),P(j==="denied"?13:-1),s(2),_("content",M.closeNotificationExample)("description",m),s(3),P(j==="denied"?18:-1),s(2),_("content",M.listenNotificationEventsExample)("description",se),s(3),P(j==="denied"?23:-1)}}var z=class n{notificationPermissionState$=c(x).state("notifications");deniedPermissionNotification="You have denied notification permission. Please, change it in browser settings.";gettingPermissionExample={"index.ts":import("./chunk-QSMF6J7G.js"),"index.html":import("./chunk-WSMCWUZK.js")};createNotificationExample={"index.ts":import("./chunk-IQY3AMVM.js"),"index.html":import("./chunk-SAQUJI3T.js")};closeNotificationExample={"index.ts":import("./chunk-RFHBG5NC.js"),"index.html":import("./chunk-ZMJJWQLN.js")};listenNotificationEventsExample={"index.ts":import("./chunk-JMHLEKMM.js"),"index.html":import("./chunk-QPO4TF3S.js")};static \u0275fac=function(o){return new(o||n)};static \u0275cmp=p({type:n,selectors:[["notification-page"]],decls:19,vars:4,consts:[["permissionDescription",""],["createNotificationDescription",""],["closeNotificationDescription",""],["listenEventDescription",""],[1,"header"],["alt","Notification API logo","height","64","src","assets/logos/notification/logo.svg"],[1,"description"],["href","https://developer.mozilla.org/en-US/docs/Web/API/Notifications_API","rel","noreferrer","target","_blank","tuiLink",""],["code","npm i @ng-web-apis/notification","filename","Installation"],["heading","Getting Permissions",3,"content","description"],["appearance","warning","size","m","tuiNotification",""],["heading","Create notification",3,"content","description"],["appearance","error","size","m","tuiNotification",""],["heading","Close notification",3,"content","description"],["heading","Listen to notification events",3,"content","description"],["href","https://developer.mozilla.org/en-US/docs/Web/API/Notification/Notification","rel","noreferrer","target","_blank","tuiLink",""],["href","https://developer.mozilla.org/en-US/docs/Web/API/Notifications_API/Using_the_Notifications_API#notification_events","rel","noreferrer","target","_blank","tuiLink",""]],template:function(o,r){if(o&1&&(t(0,"h2",4),l(1,"img",5),e(2,` Notification API
`),i(),t(3,"p",6),e(4," A library for declarative use of "),t(5,"a",7),e(6," Notification API "),i(),e(7," with Angular. "),l(8,"tui-doc-code",8),i(),t(9,"p"),e(10," The main entity of the library is "),t(11,"code"),e(12,"WaNotificationService"),i(),e(13," (provided in root). "),l(14,"br"),e(15,` Inject it into your component and investigate all example above.
`),i(),ee(16),d(17,"async"),N(18,ve,25,11,"section")),o&2){s(16);let m=te(f(17,1,r.notificationPermissionState$));s(2),P(m?18:-1)}},dependencies:[g,W,q,$,U,re,ce,ne,oe,u],styles:["[_nghost-%COMP%]{display:block;max-inline-size:56.25rem;margin:0 auto;font:var(--tui-font-body-m)}tui-notification[_ngcontent-%COMP%]{margin-block-end:1rem}.header[_ngcontent-%COMP%]{display:flex;font:var(--tui-font-heading-h4);align-items:center;gap:1rem}.description[_ngcontent-%COMP%]{margin-block-end:2rem}"],changeDetection:0})};export{z as default};
