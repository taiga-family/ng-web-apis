"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[158],{2158:(je,D,c)=>{c.r(D),c.d(D,{default:()=>Te});var s=c(1423),x=c(5165),e=c(1489),C=c(8832),y=c(1767),E=c(4135),V=c(5639),k=c(8419),B=c(4225),b=c(3019),z=c(6230),q=c(7212),Q=c(958),$=c(5543),Y=c(4043),U=c(4314),G=c(8395);c(9141);const L=["type","radio","tuiRadio",""],W={size:"m",appearance:({checked:o})=>o?"primary":"outline-grayscale"},w=new e.nKC("",{factory:()=>W});let O=(()=>{var o;class r{constructor(){this.appearance=(0,e.WQX)(G.bC),this.destroyRef=(0,e.WQX)(e.abz),this.cdr=(0,e.WQX)(e.gRc),this.options=(0,e.WQX)(w),this.el=(0,Y.qW)(),this.control=(0,e.WQX)(C.vO,{self:!0,optional:!0}),this.size=this.options.size}ngOnInit(){var t,n;null==(n=null==(t=this.control)?void 0:t.valueChanges)||n.pipe((0,$.Eb)(this.cdr),(0,q.pQ)(this.destroyRef)).subscribe()}ngDoCheck(){this.appearance.tuiAppearance=(0,U.YB)(this.options.appearance)?this.options.appearance:this.options.appearance(this.el)}}return(o=r).\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.VBU({type:o,selectors:[["input","type","radio","tuiRadio",""]],hostVars:4,hostBindings:function(t,n){2&t&&(e.Mr5("disabled",!n.control||n.control.disabled),e.BMQ("data-size",n.size),e.AVh("_readonly",!n.control))},inputs:{size:"size"},features:[e.nM4([{directive:G.bC,inputs:["tuiAppearanceState","tuiAppearanceState","tuiAppearanceFocus","tuiAppearanceFocus","tuiAppearanceMode","tuiAppearanceMode"]},Q.W])],attrs:L,decls:0,vars:0,template:function(t,n){},styles:['[tuiRadio]{--t-size: 1.5rem;transition-property:background,box-shadow;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;inline-size:var(--t-size);block-size:var(--t-size);cursor:pointer;margin:0;flex-shrink:0;border-radius:100%;color:var(--tui-text-primary-on-accent-1)}[tuiRadio]:disabled._readonly._readonly{opacity:1}[tuiRadio]:before{position:absolute;top:0;left:0;bottom:0;right:0;content:"";margin:auto;border-radius:100%;background:currentColor;transform:scale(0);transition-property:transform}[tuiRadio]:checked:before{transform:scale(.5)}[tuiRadio][data-size=s]{--t-size: 1rem}[tuiRadio]:invalid:not([data-mode]),[tuiRadio][data-mode~=invalid]{color:#fff}\n'],encapsulation:2,changeDetection:0}),r})();var J=c(617),K=c(5180),Z=c(4882),ee=c(9134),P=c(7270),te=c(6104),ne=c(2831),oe=c(756),M=c(6041),ae=c(4087),f=c(4814),v=c(4917),g=c(7813);let ie=(()=>{var o;class r extends AudioBufferSourceNode{constructor(t,n,a){const u=(0,e.WQX)(ae.U),d=(0,e.WQX)(y.p),l=(0,e.WQX)(v.L),A=(0,g.q)(n,0),m=(0,g.q)(a,1);if(!l){const h=d.createBufferSource();return Object.setPrototypeOf(r.prototype,Object.getPrototypeOf(h)),Object.setPrototypeOf(h,r.prototype),h.playbackRate.value=m,r.init(h,null,t,u),h}super(d,{detune:A,playbackRate:m}),(0,s.A)(this,"buffer$",void 0),(0,s.A)(this,"detuneParam",void 0),(0,s.A)(this,"playbackRateParam",void 0),(0,s.A)(this,"ended",void 0),r.init(this,null,t,u)}static init(t,n,a,u){null!==a&&t.start();const d=new e.bkB;t.ended=d,t.onended=()=>d.emit(),t.buffer$=new te.B,t.buffer$.pipe((0,ne.n)(l=>"string"==typeof l?u.fetch(l):(0,oe.of)(l))).subscribe(l=>{t.buffer=l})}set bufferSetter(t){this.buffer$.next(t)}ngOnDestroy(){this.buffer$.complete();try{this.stop()}catch{}this.disconnect()}}return o=r,(0,s.A)(r,"\u0275fac",function(t){return new(t||o)(e.kS0("autoplay"),e.kS0("detune"),e.kS0("playbackRate"))}),(0,s.A)(r,"\u0275dir",e.FsC({type:o,selectors:[["","waAudioBufferSourceNode",""]],inputs:{loop:"loop",loopStart:"loopStart",loopEnd:"loopEnd",channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation",detuneParam:[0,"detune","detuneParam"],playbackRateParam:[0,"playbackRate","playbackRateParam"],bufferSetter:[0,"buffer","bufferSetter"]},outputs:{ended:"ended"},exportAs:["AudioNode"],features:[e.Jv_([(0,f.TD)(o)]),e.Vt3]})),(0,P.Cg)([(0,M.i)("detune")],r.prototype,"detuneParam",void 0),(0,P.Cg)([(0,M.i)("playbackRate")],r.prototype,"playbackRateParam",void 0),r})(),re=(()=>{var o;class r extends MediaElementAudioSourceNode{constructor(){const t=(0,e.WQX)(y.p),n=(0,e.WQX)(v.L),a=(0,e.WQX)(e.aKT).nativeElement;if(!n){const u=t.createMediaElementSource(a);return Object.setPrototypeOf(u,r.prototype),u}super(t,{mediaElement:a})}ngOnDestroy(){this.disconnect()}}return o=r,(0,s.A)(r,"\u0275fac",function(t){return new(t||o)}),(0,s.A)(r,"\u0275dir",e.FsC({type:o,selectors:[["audio","waMediaElementAudioSourceNode",""],["video","waMediaElementAudioSourceNode",""]],exportAs:["AudioNode"],features:[e.Jv_([(0,f.TD)(o)]),e.Vt3]})),r})();var se=c(6823),N=c(2928),R=c(9255),T=c(3527),j=c(7782),_=c(8088);let ce=(()=>{var o;class r extends AnalyserNode{constructor(t,n,a,u){const d=(0,e.WQX)(y.p),l=(0,e.WQX)(f.aN,{skipSelf:!0}),A=(0,e.WQX)(v.L),m=(0,g.q)(t,2048),h=(0,g.q)(n,-30),F=(0,g.q)(a,-100),S=(0,g.q)(u,.8);if(!A){const p=d.createAnalyser();return Object.setPrototypeOf(p,r.prototype),r.init(p,l),p.fftSize=m,p.maxDecibels=h,p.minDecibels=F,p.smoothingTimeConstant=S,p}super(d,{fftSize:m,maxDecibels:h,minDecibels:F,smoothingTimeConstant:S}),(0,s.A)(this,"frequencyByte$",void 0),(0,s.A)(this,"frequencyFloat$",void 0),(0,s.A)(this,"timeByte$",void 0),(0,s.A)(this,"timeFloat$",void 0),r.init(this,l)}static init(t,n){(0,_.N)(n,t);let a=new Uint8Array(t.frequencyBinCount),u=new Float32Array(t.frequencyBinCount),d=new Uint8Array(t.fftSize),l=new Float32Array(t.fftSize);t.frequencyByte$=(0,N.Y)(0,R.X).pipe((0,T.T)(()=>(a.length!==t.frequencyBinCount&&(a=new Uint8Array(t.frequencyBinCount)),t.getByteFrequencyData(a),a)),(0,j.u)()),t.frequencyFloat$=(0,N.Y)(0,R.X).pipe((0,T.T)(()=>(u.length!==t.frequencyBinCount&&(u=new Float32Array(t.frequencyBinCount)),t.getFloatFrequencyData(u),u)),(0,j.u)()),t.timeByte$=(0,N.Y)(0,R.X).pipe((0,T.T)(()=>(d.length!==t.fftSize&&(d=new Uint8Array(t.frequencyBinCount)),t.getByteTimeDomainData(d),d)),(0,j.u)()),t.timeFloat$=(0,N.Y)(0,R.X).pipe((0,T.T)(()=>(l.length!==t.fftSize&&(l=new Float32Array(t.frequencyBinCount)),t.getFloatTimeDomainData(l),l)),(0,j.u)())}ngOnDestroy(){this.disconnect()}}return o=r,(0,s.A)(r,"\u0275fac",function(t){return new(t||o)(e.kS0("fftSize"),e.kS0("maxDecibels"),e.kS0("minDecibels"),e.kS0("smoothingTimeConstant"))}),(0,s.A)(r,"\u0275dir",e.FsC({type:o,selectors:[["","waAnalyserNode",""]],inputs:{fftSize:"fftSize",minDecibels:"minDecibels",maxDecibels:"maxDecibels",smoothingTimeConstant:"smoothingTimeConstant",channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation"},outputs:{frequencyByte$:"frequencyByte$",frequencyFloat$:"frequencyFloat$",timeByte$:"timeByte$",timeFloat$:"timeFloat$"},exportAs:["AudioNode"],features:[e.Jv_([(0,f.TD)(o)]),e.Vt3]})),r})(),ue=(()=>{var o;class r extends BiquadFilterNode{constructor(t,n,a,u){const d=(0,e.WQX)(y.p),l=(0,e.WQX)(v.L),A=(0,e.WQX)(f.aN,{skipSelf:!0}),m=(0,g.q)(t,0),h=(0,g.q)(n,350),F=(0,g.q)(a,0),S=(0,g.q)(u,1);if(!l){const p=d.createBiquadFilter();return Object.setPrototypeOf(p,r.prototype),p.detune.value=m,p.frequency.value=h,p.gain.value=F,p.Q.value=S,(0,_.N)(A,p),p}super(d,{detune:m,frequency:h,gain:F,Q:S}),(0,s.A)(this,"detuneParam",void 0),(0,s.A)(this,"frequencyParam",void 0),(0,s.A)(this,"gainParam",void 0),(0,s.A)(this,"qParam",void 0),(0,_.N)(A,this)}static init(t,n){(0,_.N)(n,t)}ngOnDestroy(){this.disconnect()}}return o=r,(0,s.A)(r,"\u0275fac",function(t){return new(t||o)(e.kS0("detune"),e.kS0("frequency"),e.kS0("gain"),e.kS0("Q"))}),(0,s.A)(r,"\u0275dir",e.FsC({type:o,selectors:[["","waBiquadFilterNode",""]],inputs:{type:"type",channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation",detuneParam:[0,"detune","detuneParam"],frequencyParam:[0,"frequency","frequencyParam"],gainParam:[0,"gain","gainParam"],qParam:[0,"Q","qParam"]},exportAs:["AudioNode"],features:[e.Jv_([(0,f.TD)(o)]),e.Vt3]})),(0,P.Cg)([(0,M.i)("detune")],r.prototype,"detuneParam",void 0),(0,P.Cg)([(0,M.i)("frequency")],r.prototype,"frequencyParam",void 0),(0,P.Cg)([(0,M.i)("gain")],r.prototype,"gainParam",void 0),(0,P.Cg)([(0,M.i)("Q")],r.prototype,"qParam",void 0),r})();var de=c(9092);let le=(()=>{var o;class r extends DelayNode{constructor(t,n){const a=(0,e.WQX)(y.p),u=(0,e.WQX)(f.aN,{skipSelf:!0}),d=(0,e.WQX)(v.L),l=(0,g.q)(t,0),A=(0,g.q)(n,1);if(!d){const m=a.createDelay(A);return Object.setPrototypeOf(m,r.prototype),(0,_.N)(u,m),m.delayTime.value=l,m}super(a,{delayTime:l,maxDelayTime:A}),(0,s.A)(this,"delayTimeParam",void 0),(0,_.N)(u,this)}static init(t,n){(0,_.N)(n,t)}ngOnDestroy(){this.disconnect()}}return o=r,(0,s.A)(r,"\u0275fac",function(t){return new(t||o)(e.kS0("delayTime"),e.kS0("maxDelayTime"))}),(0,s.A)(r,"\u0275dir",e.FsC({type:o,selectors:[["","waDelayNode",""]],inputs:{channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation",delayTimeParam:[0,"delayTime","delayTimeParam"]},exportAs:["AudioNode"],features:[e.Jv_([(0,f.TD)(o)]),e.Vt3]})),(0,P.Cg)([(0,M.i)("delayTime")],r.prototype,"delayTimeParam",void 0),r})();var pe=c(7019);function X(o){var r;if(!o)return 0;if("number"==typeof o)return o;if(o instanceof Array){const i=null==(r=o[o.length-1])?void 0:r.value;return"number"==typeof i?i:(null==i?void 0:i[i.length-1])??0}return o.value instanceof Array?o.value[o.value.length-1]??0:o.value}var ge=c(5612);let me=(()=>{var o;class r extends StereoPannerNode{constructor(t){const n=(0,e.WQX)(y.p),a=(0,e.WQX)(f.aN,{skipSelf:!0}),u=(0,g.q)(t,0);try{new StereoPannerNode(n)}catch{const d=n.createPanner();return Object.setPrototypeOf(d,r.prototype),d.fallbackToPannerNode(X(u)),(0,_.N)(a,d),d}super(n,{pan:u}),(0,_.N)(a,this)}set panParam(t){"setPosition"in this?this.fallbackToPannerNode(X(t)):(0,ge.D)(this.pan,t,this.context.currentTime)}ngOnDestroy(){this.disconnect()}fallbackToPannerNode(t){const n=100*t,a=n>0?270-n:n+90,u=Math.sin(n*(Math.PI/180)),d=Math.sin(a*(Math.PI/180));this.setPosition(u,0,d)}}return o=r,(0,s.A)(r,"\u0275fac",function(t){return new(t||o)(e.kS0("pan"))}),(0,s.A)(r,"\u0275dir",e.FsC({type:o,selectors:[["","waStereoPannerNode",""]],inputs:{channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation",panParam:[0,"pan","panParam"]},exportAs:["AudioNode"],features:[e.Jv_([(0,f.TD)(o)]),e.Vt3]})),r})(),fe=(()=>{var o;class r extends WaveShaperNode{constructor(){const t=(0,e.WQX)(y.p),n=(0,e.WQX)(f.aN,{skipSelf:!0});if(!(0,e.WQX)(v.L)){const u=t.createWaveShaper();return Object.setPrototypeOf(u,r.prototype),(0,_.N)(n,u),u}super(t),(0,_.N)(n,this)}ngOnDestroy(){this.disconnect()}}return o=r,(0,s.A)(r,"\u0275fac",function(t){return new(t||o)}),(0,s.A)(r,"\u0275dir",e.FsC({type:o,selectors:[["","waWaveShaperNode",""]],inputs:{oversample:"oversample",curve:"curve",channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation"},exportAs:["AudioNode"],features:[e.Jv_([(0,f.TD)(o)]),e.Vt3]})),r})(),_e=(()=>{var o;class r{transform(t,n,a="exponential"){return t instanceof Array?{value:t,duration:n}:{value:t,duration:n,mode:a}}}return o=r,(0,s.A)(r,"\u0275fac",function(t){return new(t||o)}),(0,s.A)(r,"\u0275pipe",e.EJ8({name:"waAudioParam",type:o,pure:!0})),r})(),he=(()=>{var o;class r{constructor(){(0,s.A)(this,"context",(0,e.WQX)(y.p))}transform(t,n,a){return this.context.createPeriodicWave(new Float32Array(t),n?new Float32Array(n):new Float32Array(t.length),{disableNormalization:!!a})}}return o=r,(0,s.A)(r,"\u0275fac",function(t){return new(t||o)}),(0,s.A)(r,"\u0275pipe",e.EJ8({name:"waPeriodicWave",type:o,pure:!0})),r})();const ye=["chain"];function Ae(o,r){if(1&o){const i=e.RV6();e.j41(0,"button",5),e.bIt("click",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.start())}),e.EFF(1," Start AudioContext\n"),e.k0s()}}function Ce(o,r){if(1&o){const i=e.RV6();e.j41(0,"button",20,2),e.bIt("click",function(n){e.eBV(i);const a=e.sdS(1),u=e.XpG(3);return e.Njj(u.onClick(a,n.target))}),e.EFF(2," Play "),e.qex(3,21),e.bIt("timeByte$",function(n){e.eBV(i);const a=e.XpG(3);return e.Njj(a.onTimeDomain(n))}),e.eu8(4,22),e.bVm(),e.k0s()}if(2&o){e.XpG(2);const i=e.sdS(30),t=e.XpG();e.Y8G("loop",!0),e.R7$(3),e.Y8G("fftSize",t.fftSize),e.R7$(),e.Y8G("waOutput",t.chain||i)}}function be(o,r){if(1&o&&(e.qex(0),e.DNE(1,Ce,5,3,"button",19),e.bVm()),2&o){const i=e.XpG(2);e.R7$(),e.Y8G("ngForOf",i.buffers)}}function Pe(o,r){if(1&o){const i=e.RV6();e.j41(0,"audio",23),e.qex(1,21),e.bIt("timeByte$",function(n){e.eBV(i);const a=e.XpG(2);return e.Njj(a.onTimeDomain(n))}),e.eu8(2,22),e.bVm(),e.k0s()}if(2&o){e.XpG();const i=e.sdS(30),t=e.XpG();e.R7$(),e.Y8G("fftSize",t.fftSize),e.R7$(),e.Y8G("waOutput",t.chain||i)}}function Me(o,r){if(1&o){const i=e.RV6();e.j41(0,"button",25,2),e.nI1(2,"waPeriodicWave"),e.bIt("click",function(n){e.eBV(i);const a=e.sdS(1),u=e.XpG(3);return e.Njj(u.onClick(a,n.target))}),e.EFF(3," Play "),e.qex(4,21),e.bIt("timeByte$",function(n){e.eBV(i);const a=e.XpG(3);return e.Njj(a.onTimeDomain(n))}),e.eu8(5,22),e.bVm(),e.k0s()}if(2&o){e.XpG(2);const i=e.sdS(30),t=e.XpG();e.Y8G("frequency",100)("periodicWave",e.bMT(2,4,t.real)),e.R7$(4),e.Y8G("fftSize",t.fftSize),e.R7$(),e.Y8G("waOutput",t.chain||i)}}function ve(o,r){if(1&o&&(e.qex(0),e.DNE(1,Me,6,6,"button",24),e.bVm()),2&o){const i=e.XpG(2);e.R7$(),e.Y8G("ngForOf",i.buffers)}}function xe(o,r){if(1&o){const i=e.RV6();e.qex(0),e.j41(1,"fieldset",26,3),e.nI1(3,"waAudioParam"),e.j41(4,"legend"),e.EFF(5,"GainNode"),e.k0s(),e.j41(6,"input",27),e.mxI("ngModelChange",function(n){e.eBV(i);const a=e.XpG(2);return e.DH7(a.gain,n)||(a.gain=n),e.Njj(n)}),e.k0s(),e.j41(7,"fieldset",28),e.nI1(8,"waAudioParam"),e.j41(9,"legend"),e.EFF(10,"StereoPannerNode"),e.k0s(),e.j41(11,"input",29),e.mxI("ngModelChange",function(n){e.eBV(i);const a=e.XpG(2);return e.DH7(a.pan,n)||(a.pan=n),e.Njj(n)}),e.k0s(),e.j41(12,"fieldset",30)(13,"legend"),e.EFF(14,"AudioDestinationNode"),e.k0s()()()(),e.bVm()}if(2&o){const i=e.XpG(2);e.R7$(),e.Y8G("gain",e.i5U(3,4,i.gain,.1)),e.R7$(5),e.R50("ngModel",i.gain),e.R7$(),e.Y8G("pan",e.i5U(8,7,i.pan,.1)),e.R7$(4),e.R50("ngModel",i.pan)}}function Fe(o,r){if(1&o){const i=e.RV6();e.qex(0),e.j41(1,"fieldset",26,3),e.nI1(3,"waAudioParam"),e.j41(4,"legend"),e.EFF(5,"GainNode"),e.k0s(),e.j41(6,"em"),e.EFF(7,"For feedback loop purposes only"),e.k0s(),e.j41(8,"fieldset",31),e.nI1(9,"waAudioParam"),e.j41(10,"legend"),e.EFF(11,"DelayNode"),e.k0s(),e.j41(12,"input",27),e.mxI("ngModelChange",function(n){e.eBV(i);const a=e.XpG(2);return e.DH7(a.delayTime,n)||(a.delayTime=n),e.Njj(n)}),e.k0s(),e.j41(13,"fieldset",26)(14,"legend"),e.EFF(15,"GainNode"),e.k0s(),e.j41(16,"input",27),e.mxI("ngModelChange",function(n){e.eBV(i);const a=e.XpG(2);return e.DH7(a.delayGain,n)||(a.delayGain=n),e.Njj(n)}),e.k0s(),e.j41(17,"fieldset",22)(18,"legend"),e.EFF(19,"Output"),e.k0s(),e.j41(20,"em"),e.EFF(21,"Connected back to the beginning of the chain"),e.k0s()()()(),e.j41(22,"fieldset",30)(23,"legend"),e.EFF(24,"AudioDestinationNode"),e.k0s()()(),e.bVm()}if(2&o){const i=e.sdS(2),t=e.XpG(2);e.R7$(),e.Y8G("gain",e.i5U(3,6,t.gain,.1)),e.R7$(7),e.Y8G("delayTime",e.i5U(9,9,t.delayTime,.1)),e.R7$(4),e.R50("ngModel",t.delayTime),e.R7$(),e.Y8G("gain",t.delayGain),e.R7$(3),e.R50("ngModel",t.delayGain),e.R7$(),e.Y8G("waOutput",i)}}function Se(o,r){if(1&o&&e.nrm(0,"tui-data-list-wrapper",41),2&o){const i=e.XpG(3);e.Y8G("items",i.items)}}function Ne(o,r){if(1&o){const i=e.RV6();e.qex(0),e.j41(1,"fieldset",32,3),e.nI1(3,"waAudioParam"),e.nI1(4,"waAudioParam"),e.nI1(5,"waAudioParam"),e.nI1(6,"waAudioParam"),e.j41(7,"legend"),e.EFF(8,"BiquadFilterNode"),e.k0s(),e.j41(9,"tui-select",33),e.mxI("ngModelChange",function(n){e.eBV(i);const a=e.XpG(2);return e.DH7(a.type,n)||(a.type=n),e.Njj(n)}),e.EFF(10," Type "),e.DNE(11,Se,1,1,"tui-data-list-wrapper",34),e.k0s(),e.j41(12,"label",6),e.EFF(13," gain "),e.j41(14,"input",27),e.mxI("ngModelChange",function(n){e.eBV(i);const a=e.XpG(2);return e.DH7(a.filterGain,n)||(a.filterGain=n),e.Njj(n)}),e.k0s()(),e.j41(15,"label",6),e.EFF(16," frequence "),e.j41(17,"input",35),e.mxI("ngModelChange",function(n){e.eBV(i);const a=e.XpG(2);return e.DH7(a.frequency,n)||(a.frequency=n),e.Njj(n)}),e.k0s()(),e.j41(18,"label",6),e.EFF(19," Q "),e.j41(20,"input",36),e.mxI("ngModelChange",function(n){e.eBV(i);const a=e.XpG(2);return e.DH7(a.q,n)||(a.q=n),e.Njj(n)}),e.k0s()(),e.j41(21,"label",6),e.EFF(22," detune "),e.j41(23,"input",37),e.mxI("ngModelChange",function(n){e.eBV(i);const a=e.XpG(2);return e.DH7(a.detune,n)||(a.detune=n),e.Njj(n)}),e.k0s()(),e.j41(24,"fieldset",38)(25,"legend"),e.EFF(26,"WaveShaperNode"),e.k0s(),e.j41(27,"input",39),e.bIt("ngModelChange",function(n){e.eBV(i);const a=e.XpG(2);return e.Njj(a.onCurveChange(n))}),e.k0s(),e.qex(28,26),e.nI1(29,"waAudioParam"),e.j41(30,"fieldset",40)(31,"legend"),e.EFF(32,"ConvolverNode"),e.k0s(),e.j41(33,"fieldset",30)(34,"legend"),e.EFF(35,"AudioDestinationNode"),e.k0s()()(),e.bVm(),e.k0s()(),e.bVm()}if(2&o){const i=e.XpG(2);e.R7$(),e.Y8G("detune",e.i5U(3,13,i.detune,.1))("frequency",e.i5U(4,16,i.frequency,.1))("gain",e.i5U(5,19,i.filterGain,.1))("Q",e.i5U(6,22,i.q,.1))("type",i.type),e.R7$(8),e.R50("ngModel",i.type),e.R7$(5),e.R50("ngModel",i.filterGain),e.R7$(3),e.R50("ngModel",i.frequency),e.R7$(3),e.R50("ngModel",i.q),e.R7$(3),e.R50("ngModel",i.detune),e.R7$(),e.Y8G("curve",i.curve),e.R7$(3),e.Y8G("ngModel",i.distortion),e.R7$(),e.Y8G("gain",e.i5U(29,25,i.distortionCompensation,.1))}}function Re(o,r){if(1&o){const i=e.RV6();e.j41(0,"section")(1,"h2"),e.EFF(2,"Description"),e.k0s(),e.j41(3,"p"),e.EFF(4," This is a demo for "),e.j41(5,"strong"),e.EFF(6,"@ng-web-apis/audio"),e.k0s(),e.EFF(7," \u2014 a Web Audio API declarative library for Angular. Here you can select different audio source options and see AudioNode graph for selected configuration. Demo page uses HTML elements as directives hosts, in real life scenario you can use "),e.j41(8,"code"),e.EFF(9,"ng-container"),e.k0s(),e.EFF(10," so you will not have redundant DOM tags. "),e.k0s()(),e.j41(11,"section")(12,"h2"),e.EFF(13,"Source"),e.k0s(),e.j41(14,"label",6)(15,"input",7),e.mxI("ngModelChange",function(n){e.eBV(i);const a=e.XpG();return e.DH7(a.selectedSource,n)||(a.selectedSource=n),e.Njj(n)}),e.k0s(),e.EFF(16," AudioBufferSourceNode "),e.k0s(),e.j41(17,"label",6)(18,"input",8),e.mxI("ngModelChange",function(n){e.eBV(i);const a=e.XpG();return e.DH7(a.selectedSource,n)||(a.selectedSource=n),e.Njj(n)}),e.k0s(),e.EFF(19," MediaElementAudioSourceNode "),e.k0s(),e.j41(20,"label",6)(21,"input",9),e.mxI("ngModelChange",function(n){e.eBV(i);const a=e.XpG();return e.DH7(a.selectedSource,n)||(a.selectedSource=n),e.Njj(n)}),e.k0s(),e.EFF(22," OscillatorNode "),e.k0s(),e.qex(23,10),e.DNE(24,be,2,1,"ng-container",11)(25,Pe,3,2,"audio",12)(26,ve,2,1,"ng-container",11),e.bVm(),e.j41(27,"p")(28,"canvas",13,1),e.nrm(31,"canvas-path",14),e.nI1(32,"path"),e.nI1(33,"transform"),e.k0s()()(),e.j41(34,"section")(35,"h2"),e.EFF(36,"Chain"),e.k0s(),e.j41(37,"label",6)(38,"input",15),e.mxI("ngModelChange",function(n){e.eBV(i);const a=e.XpG();return e.DH7(a.selectedChain,n)||(a.selectedChain=n),e.Njj(n)}),e.k0s(),e.EFF(39," Dry "),e.k0s(),e.j41(40,"label",6)(41,"input",16),e.mxI("ngModelChange",function(n){e.eBV(i);const a=e.XpG();return e.DH7(a.selectedChain,n)||(a.selectedChain=n),e.Njj(n)}),e.k0s(),e.EFF(42," Balance "),e.k0s(),e.j41(43,"label",6)(44,"input",17),e.mxI("ngModelChange",function(n){e.eBV(i);const a=e.XpG();return e.DH7(a.selectedChain,n)||(a.selectedChain=n),e.Njj(n)}),e.k0s(),e.EFF(45," Delay "),e.k0s(),e.j41(46,"label",6)(47,"input",18),e.mxI("ngModelChange",function(n){e.eBV(i);const a=e.XpG();return e.DH7(a.selectedChain,n)||(a.selectedChain=n),e.Njj(n)}),e.k0s(),e.EFF(48," Complex "),e.k0s(),e.qex(49,10),e.DNE(50,xe,15,10,"ng-container",11)(51,Fe,25,12,"ng-container",11)(52,Ne,36,28,"ng-container",11),e.bVm(),e.k0s()}if(2&o){const i=e.sdS(29),t=e.XpG();e.R7$(15),e.R50("ngModel",t.selectedSource),e.R7$(3),e.R50("ngModel",t.selectedSource),e.R7$(3),e.R50("ngModel",t.selectedSource),e.R7$(2),e.Y8G("ngSwitch",t.selectedSource),e.R7$(),e.Y8G("ngSwitchCase","buffer"),e.R7$(),e.Y8G("ngSwitchCase","media"),e.R7$(),e.Y8G("ngSwitchCase","oscillator"),e.R7$(5),e.Y8G("lineWidth",4/i.height)("path",e.bMT(32,18,t.path))("transform",e.bMT(33,20,t.getTransform(i))),e.R7$(7),e.R50("ngModel",t.selectedChain),e.R7$(3),e.R50("ngModel",t.selectedChain),e.R7$(3),e.R50("ngModel",t.selectedChain),e.R7$(3),e.R50("ngModel",t.selectedChain),e.R7$(2),e.Y8G("ngSwitch",t.selectedChain),e.R7$(),e.Y8G("ngSwitchCase","balance"),e.R7$(),e.Y8G("ngSwitchCase","delay"),e.R7$(),e.Y8G("ngSwitchCase","complex")}}let Te=(()=>{var o;class r{constructor(){(0,s.A)(this,"context",(0,e.WQX)(y.p)),(0,s.A)(this,"chain",void 0),(0,s.A)(this,"buffers",[Date.now()]),(0,s.A)(this,"selectedChain","dry"),(0,s.A)(this,"selectedSource","buffer"),(0,s.A)(this,"gain",1),(0,s.A)(this,"pan",0),(0,s.A)(this,"delayTime",1),(0,s.A)(this,"delayGain",.5),(0,s.A)(this,"distortion",20),(0,s.A)(this,"frequency",350),(0,s.A)(this,"detune",0),(0,s.A)(this,"filterGain",0),(0,s.A)(this,"q",1),(0,s.A)(this,"type","lowpass"),(0,s.A)(this,"curve",I(this.distortion)),(0,s.A)(this,"started",!1),(0,s.A)(this,"fftSize",2048),(0,s.A)(this,"path",""),(0,s.A)(this,"items",["lowpass","highpass","bandpass","lowshelf","highshelf","peaking","notch","allpass"]),(0,s.A)(this,"real",[0,0,1,0,1])}get distortionCompensation(){return 1.2-this.distortion/20}start(){this.started=!0,this.context.resume()}getTransform({width:t,height:n}){return`scale(${t/this.fftSize}, ${n/2})`}onCurveChange(t){this.distortion=t,this.curve=I(t)}onClick(t,n){"Play"===n.textContent.trim()?(n.textContent="Stop",t.start()):this.buffers[0]=Date.now()}onTimeDomain(t){this.path=t.reduce((n,a,u)=>`${n} L ${u} ${a/128}`,"M 0 0")}}return o=r,(0,s.A)(r,"\u0275fac",function(t){return new(t||o)}),(0,s.A)(r,"\u0275cmp",e.VBU({type:o,selectors:[["audio-page"]],viewQuery:function(t,n){if(1&t&&e.GBs(ye,5),2&t){let a;e.mGM(a=e.lsd())&&(n.chain=a.first)}},decls:3,vars:2,consts:[["graph",""],["canvas","","fallback","AudioNode"],["source","AudioNode"],["chain","AudioNode"],["appearance","secondary","tuiButton","","type","button",3,"click",4,"ngIf","ngIfElse"],["appearance","secondary","tuiButton","","type","button",3,"click"],["tuiLabel",""],["name","source","tuiRadio","","type","radio","value","buffer",3,"ngModelChange","ngModel"],["name","source","tuiRadio","","type","radio","value","media",3,"ngModelChange","ngModel"],["name","source","tuiRadio","","type","radio","value","oscillator",3,"ngModelChange","ngModel"],[3,"ngSwitch"],[4,"ngSwitchCase"],["controls","","loop","","src","assets/demo.mp3","waMediaElementAudioSourceNode","",4,"ngSwitchCase"],["waAudioDestinationNode","","waCanvas2d","",1,"canvas"],["fillStyle","transparent","strokeStyle","black",3,"lineWidth","path","transform"],["name","chain","tuiRadio","","type","radio","value","dry",3,"ngModelChange","ngModel"],["name","chain","tuiRadio","","type","radio","value","balance",3,"ngModelChange","ngModel"],["name","chain","tuiRadio","","type","radio","value","delay",3,"ngModelChange","ngModel"],["name","chain","tuiRadio","","type","radio","value","complex",3,"ngModelChange","ngModel"],["buffer","assets/demo.mp3","size","s","tuiButton","","type","button","waAudioBufferSourceNode","",3,"loop","click",4,"ngFor","ngForOf"],["buffer","assets/demo.mp3","size","s","tuiButton","","type","button","waAudioBufferSourceNode","",3,"click","loop"],["waAnalyserNode","",3,"timeByte$","fftSize"],[3,"waOutput"],["controls","","loop","","src","assets/demo.mp3","waMediaElementAudioSourceNode",""],["size","s","tuiButton","","type","button","waOscillatorNode","",3,"frequency","periodicWave","click",4,"ngFor","ngForOf"],["size","s","tuiButton","","type","button","waOscillatorNode","",3,"click","frequency","periodicWave"],["waGainNode","",3,"gain"],["max","1","min","0","step","0.01","tuiSlider","","type","range",3,"ngModelChange","ngModel"],["waStereoPannerNode","",3,"pan"],["max","1","min","-1","step","0.01","tuiSlider","","type","range",3,"ngModelChange","ngModel"],["waAudioDestinationNode",""],["waDelayNode","",3,"delayTime"],["waBiquadFilterNode","",3,"detune","frequency","gain","Q","type"],["tuiTextfieldSize","m",3,"ngModelChange","ngModel"],[3,"items",4,"tuiDataList"],["max","5000","min","20","tuiSlider","","type","range",3,"ngModelChange","ngModel"],["max","100","min","1","tuiSlider","","type","range",3,"ngModelChange","ngModel"],["max","100","min","0","tuiSlider","","type","range",3,"ngModelChange","ngModel"],["oversample","4x","waWaveShaperNode","",3,"curve"],["max","20","min","0","step","0.1","tuiSlider","","type","range",3,"ngModelChange","ngModel"],["buffer","assets/response.m4a","waConvolverNode",""],[3,"items"]],template:function(t,n){if(1&t&&e.DNE(0,Ae,2,0,"button",4)(1,Re,53,22,"ng-template",null,0,e.C5r),2&t){const a=e.sdS(2);e.Y8G("ngIf",!n.started)("ngIfElse",a)}},dependencies:[b.x1,b._u,b.kk,b.ST,b.Qi,b.Tm,b.d9,x.MD,x.Sq,x.bT,x.ux,x.e1,C.YN,C.me,C.MR,C.Fm,C.BC,C.vS,E.p,z.df,K.WX,V.z,O,k.pg,k.ET,k.ww,J.xb,B.CN,B.G6,Z.V,ee.g,ie,re,se.F,ce,ue,de.H,le,pe.U,me,fe,_e,he],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;gap:.75rem}@media (max-width: 1100px){[_nghost-%COMP%]{flex-direction:column;inline-size:320px;margin:0 auto}}tui-radio-labeled[_ngcontent-%COMP%]{margin:1rem 0}section[_ngcontent-%COMP%]{flex:1;max-inline-size:20rem;padding:.0625rem .625rem .625rem;box-sizing:border-box;background:#f5f5f5;border-radius:.5rem}audio[_ngcontent-%COMP%]{margin-block-start:1em}label[_ngcontent-%COMP%]{margin-block-start:.5rem}input[_ngcontent-%COMP%]{margin:0}fieldset[_ngcontent-%COMP%]{margin-block-start:1em;border:none;border-radius:.25rem}legend[_ngcontent-%COMP%]{background:#fff;box-shadow:0 0 2px;padding:.3125rem .625rem;border-radius:2px}*[ng-reflect--waoutput][_ngcontent-%COMP%]{background:#d8bfd8}*[waGainNode][_ngcontent-%COMP%]{background:pink}*[waDelayNode][_ngcontent-%COMP%]{background:#90ee90}*[waStereoPannerNode][_ngcontent-%COMP%]{background:#87ceeb}*[waAudioDestinationNode][_ngcontent-%COMP%]{background:khaki}*[waWaveShaperNode][_ngcontent-%COMP%]{background:salmon}*[waBiquadFilterNode][_ngcontent-%COMP%]{background:gold}*[waConvolverNode][_ngcontent-%COMP%]{background:#7fffd4}"],changeDetection:0})),r})();function I(o){const i=new Float32Array(44100),t=Math.PI/180;for(let n=0;n<44100;++n){const a=2*n/44100-1;i[n]=(3+o)*a*20*t/(Math.PI+o*Math.abs(a))}return i}}}]);