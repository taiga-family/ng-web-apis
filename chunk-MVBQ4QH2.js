import{a as ht}from"./chunk-OTLIHRLE.js";import{A as f,N as m,Q as st,T as W,U as ct,V as F,m as rt,z as lt}from"./chunk-34U4OIOH.js";import{a as at}from"./chunk-UNR3ZOEG.js";import{a as S}from"./chunk-Y7XNAN3T.js";import{b as L}from"./chunk-PCT2X63S.js";import{i as ot}from"./chunk-X37QOLRV.js";import{Aa as Q,Ba as X,Bb as x,C as j,Db as E,E as M,G as N,Kc as k,Oa as z,Oc as et,Pb as h,Pc as it,Q as $,Rb as u,Xb as _,Xc as nt,Yb as v,Zb as g,_c as H,aa as Z,ba as G,ca as q,e as U,fa as P,fc as D,jb as I,jc as C,ka as J,lc as p,mc as Y,na as K,nc as tt,pa as l,u as b,wa as T,xa as R,xc as d}from"./chunk-KG2R5REB.js";function St(i,e){}function yt(i,e){if(i&1){let r=D();_(0,"div",2),C("mousedown.capture.prevent",function(){return T(r),R(0)}),g(1,"div",3),v()}if(i&2){let r=p();d("t-bar_has-horizontal",r[1])}}function Ot(i,e){if(i&1){let r=D();_(0,"div",4),C("mousedown.capture.prevent",function(){return T(r),R(0)}),g(1,"div",5),v()}if(i&2){let r=p();d("t-bar_has-vertical",r[0])}}function wt(i,e){if(i&1&&(h(0,yt,2,2,"div",0),h(1,Ot,2,2,"div",1)),i&2){let r=e;u(r[0]?0:-1),I(),u(r[1]?1:-1)}}function Mt(i,e){if(i&1&&(h(0,wt,2,2),et(1,"async")),i&2){let r,t=p();u((r=it(1,1,t.refresh$))?0:-1,r)}}var Pt=["*"];function Tt(i,e){if(i&1&&g(0,"tui-scroll-controls",2),i&2){let r=p();d("t-hover-mode",r.options.mode==="hover")}}var O=new K("",{factory:()=>new z(l(Q).documentElement)});var ut=(()=>{let e=class e extends U{constructor(){super(t=>this.scroll$.subscribe(t)),this.el=f(),this.element=l(O).nativeElement,this.scroll$=M(m(this.el.parentElement,"mousedown").pipe(N(({target:t})=>t!==this.el),b(t=>this.getScrolled(t,.5,.5))),m(this.el,"mousedown").pipe(W(),G(t=>{let{ownerDocument:n}=this.el,o=this.el.getBoundingClientRect(),c=Rt(t,o),s=zt(t,o);return m(n,"mousemove").pipe(b(a=>this.getScrolled(a,c,s)),q(m(n,"mouseup")))})))}getScrolled({clientY:t,clientX:n},o,c){let{offsetHeight:s,offsetWidth:a}=this.el,{top:w,left:pt,right:ft,width:V,height:A}=this.el.parentElement.getBoundingClientRect(),B=this.el.matches('[dir="rtl"] :scope'),mt=B?ft:pt,bt=B?-1:1,_t=this.element.scrollHeight-A,vt=this.element.scrollWidth-V,gt=(t-w-s*o)/(A-s),Ct=(n-mt-a*c*bt)/(V-a);return[_t*gt,vt*Ct]}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=J({token:e,factory:e.\u0275fac});let i=e;return i})();function Rt({clientY:i},{top:e,height:r}){return(i-e)/r}function zt({clientX:i},{left:e,width:r}){return(i-e)/r}var y=24,It=(()=>{let e=class e{constructor(){this.el=l(O).nativeElement,this.style=f().style,this.scrollSub=l(ut).pipe(S()).subscribe(([t,n])=>{this.el.style.scrollBehavior="auto",this.tuiScrollbar()==="horizontal"?this.el.scrollLeft=n:this.el.scrollTop=t,this.el.style.scrollBehavior=""}),this.styleSub=M(l(L).pipe(P(100,F())),st(this.el)).pipe(W(),S()).subscribe(()=>{let t={scrollTop:this.el.scrollTop,scrollHeight:this.el.scrollHeight,clientHeight:this.el.clientHeight,scrollLeft:this.el.scrollLeft,scrollWidth:this.el.scrollWidth,clientWidth:this.el.clientWidth},n=`${this.getThumb(t)*100}%`,o=`${this.getView(t)*100}%`;this.tuiScrollbar()==="vertical"?(this.style.top=n,this.style.height=o):(this.style.left=n,this.style.insetInlineStart=n,this.style.width=o)}),this.tuiScrollbar=H("vertical")}getScrolled(t){return this.tuiScrollbar()==="vertical"?t.scrollTop/(t.scrollHeight-t.clientHeight):t.scrollLeft/(t.scrollWidth-t.clientWidth)}getCompensation(t){return t.clientHeight*t.clientHeight/t.scrollHeight>y&&this.tuiScrollbar()==="vertical"||t.clientWidth*t.clientWidth/t.scrollWidth>y&&this.tuiScrollbar()==="horizontal"?0:this.tuiScrollbar()==="vertical"?y/t.clientHeight:y/t.clientWidth}getThumb(t){let n=this.getCompensation(t)||this.getView(t);return Math.abs(this.getScrolled(t)*(1-n))}getView(t){return this.tuiScrollbar()==="vertical"?Math.ceil(t.clientHeight/t.scrollHeight*100)/100:Math.ceil(t.clientWidth/t.scrollWidth*100)/100}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=E({type:e,selectors:[["","tuiScrollbar",""]],inputs:{tuiScrollbar:[1,"tuiScrollbar"]},features:[k([ut])]});let i=e;return i})(),xt={mode:"always"},[dt,Kt]=rt(xt),Et=(()=>{let e=class e{constructor(){this.scrollRef=l(O).nativeElement,this.nativeScrollbar=l(dt).mode==="native",this.refresh$=l(L).pipe(P(300,F()),b(()=>this.scrollbars),Z([!1,!1]),$((t,n)=>t[0]===n[0]&&t[1]===n[1]),ct())}get scrollbars(){let{clientHeight:t,scrollHeight:n,clientWidth:o,scrollWidth:c}=this.scrollRef;return[Math.ceil(t/n*100)<100,Math.ceil(o/c*100)<100]}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=x({type:e,selectors:[["tui-scroll-controls"]],decls:2,vars:1,consts:[["tuiAnimated","",1,"t-bar","t-bar_vertical",3,"t-bar_has-horizontal"],["tuiAnimated","",1,"t-bar","t-bar_horizontal",3,"t-bar_has-vertical"],["tuiAnimated","",1,"t-bar","t-bar_vertical",3,"mousedown.capture.prevent"],["tuiScrollbar","vertical",1,"t-thumb"],["tuiAnimated","",1,"t-bar","t-bar_horizontal",3,"mousedown.capture.prevent"],["tuiScrollbar","horizontal",1,"t-thumb"]],template:function(n,o){n&1&&h(0,St,0,0)(1,Mt,2,3),n&2&&u(o.nativeScrollbar?0:1)},dependencies:[ot,ht,It],styles:["[_nghost-%COMP%]{position:sticky;top:0;left:0;z-index:1;inset-inline-start:0;min-inline-size:calc(100% - 1px);min-block-size:calc(100% - 1px);max-inline-size:calc(100% - 1px);max-block-size:calc(100% - 1px);margin-inline-end:calc(-100% + 1px);pointer-events:none;overflow:hidden;color:var(--tui-text-primary)}  [tuiScrollable]{scrollbar-width:none;-ms-overflow-style:none}  [tuiScrollable]::-webkit-scrollbar,   [tuiScrollable]::-webkit-scrollbar-thumb{display:none}.t-bar[_ngcontent-%COMP%]{position:absolute;inset-inline-end:0;pointer-events:auto}.t-bar.tui-enter[_ngcontent-%COMP%], .t-bar.tui-leave[_ngcontent-%COMP%]{animation-name:tuiFade}.t-bar_vertical[_ngcontent-%COMP%]{inset-block:.25rem;inline-size:.875rem}.t-bar_horizontal[_ngcontent-%COMP%]{inset-block-end:0;inset-inline-start:0;block-size:.875rem}.t-bar_has-horizontal[_ngcontent-%COMP%]{inset-block-end:.5rem}.t-bar_has-vertical[_ngcontent-%COMP%]{inset-inline-end:.5rem}.t-thumb[_ngcontent-%COMP%]{transition-property:all;transition-duration:.15s;transition-timing-function:ease-in-out;position:absolute;border-radius:6.25rem;border:.25rem solid transparent;cursor:pointer;pointer-events:auto;-webkit-user-select:none;user-select:none;background:currentColor;background-clip:content-box;box-sizing:border-box;transition-property:width,height,opacity;opacity:.2}.t-thumb[_ngcontent-%COMP%]:hover{opacity:.24}.t-thumb[_ngcontent-%COMP%]:active{opacity:.48}.t-bar_vertical[_ngcontent-%COMP%]   .t-thumb[_ngcontent-%COMP%]{inset-inline-end:0;inline-size:.75rem;min-block-size:1.25rem}.t-bar_vertical[_ngcontent-%COMP%]:hover   .t-thumb[_ngcontent-%COMP%], .t-bar_vertical[_ngcontent-%COMP%]   .t-thumb[_ngcontent-%COMP%]:active{inline-size:.875rem}.t-bar_horizontal[_ngcontent-%COMP%]   .t-thumb[_ngcontent-%COMP%]{inset-block-end:0;block-size:.75rem;min-inline-size:1.25rem}.t-bar_horizontal[_ngcontent-%COMP%]:hover   .t-thumb[_ngcontent-%COMP%], .t-bar_horizontal[_ngcontent-%COMP%]   .t-thumb[_ngcontent-%COMP%]:active{block-size:.875rem}"],changeDetection:0});let i=e;return i})(),Dt="tui-scroll-into-view";var Qt=(()=>{let e=class e{constructor(){this.el=f(),this.options=l(dt),this.isIOS=l(at),this.browserScrollRef=new z(this.el)}get delegated(){return this.scrollRef!==this.el||this.options.mode==="native"}get scrollRef(){return this.browserScrollRef.nativeElement}set scrollRef(t){this.browserScrollRef.nativeElement=t}scrollIntoView(t){if(this.delegated)return;let{offsetHeight:n,offsetWidth:o}=t,{offsetTop:c,offsetLeft:s}=lt(this.scrollRef,t),a=c+n/2-this.scrollRef.clientHeight/2,w=s+o/2-this.scrollRef.clientWidth/2;this.scrollRef.scrollTo?.(w,a)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=x({type:e,selectors:[["tui-scrollbar"]],hostVars:2,hostBindings:function(n,o){n&1&&C("tui-scrollable.stop",function(s){return o.scrollRef=s.detail})("tui-scroll-into-view.stop",function(s){return o.scrollIntoView(s.detail)}),n&2&&d("_native-hidden",o.options.mode!=="native"&&(!o.isIOS||o.options.mode==="hidden"))},features:[k([{provide:O,useFactory:()=>l(e).browserScrollRef}])],ngContentSelectors:Pt,decls:3,vars:3,consts:[[1,"t-bars",3,"t-hover-mode"],[1,"t-content"],[1,"t-bars"]],template:function(n,o){n&1&&(Y(),h(0,Tt,1,2,"tui-scroll-controls",0),_(1,"div",1),tt(2),v()),n&2&&(u(!o.isIOS&&o.options.mode!=="native"&&o.options.mode!=="hidden"?0:-1),I(),d("t-content_delegated",o.delegated))},dependencies:[Et],styles:["[_nghost-%COMP%]{position:relative;display:flex;max-block-size:100%;isolation:isolate;overflow:auto}._native-hidden[_nghost-%COMP%]{scrollbar-width:none;-ms-overflow-style:none}._native-hidden[_nghost-%COMP%]::-webkit-scrollbar, ._native-hidden[_nghost-%COMP%]::-webkit-scrollbar-thumb{display:none}[_nghost-%COMP%]   .t-hover-mode[_ngcontent-%COMP%]:not(:active){transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;opacity:0}[_nghost-%COMP%]:hover   .t-hover-mode[_ngcontent-%COMP%]{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;opacity:1}.t-content[_ngcontent-%COMP%]{isolation:isolate;flex:1;flex-basis:auto;inline-size:100%;block-size:max-content}.t-content_delegated[_ngcontent-%COMP%]{block-size:100%}.t-bars[_ngcontent-%COMP%]{color:var(--tui-text-primary)}"],changeDetection:0});let i=e;return i})(),Xt=(()=>{let e=class e{constructor(){this.el=f(),this.destroyRef=l(X),this.tuiScrollIntoView=H(),this.dispatchEvent=nt(()=>{this.tuiScrollIntoView()&&j(0).pipe(S(this.destroyRef)).subscribe(()=>{this.el.dispatchEvent(new CustomEvent(Dt,{bubbles:!0,detail:this.el}))})})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=E({type:e,selectors:[["","tuiScrollIntoView",""]],inputs:{tuiScrollIntoView:[1,"tuiScrollIntoView"]}});let i=e;return i})();export{O as a,dt as b,Kt as c,Et as d,Qt as e,Xt as f};
