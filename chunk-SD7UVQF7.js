import{b as W}from"./chunk-PEJ7EE5R.js";import"./chunk-34U4OIOH.js";import"./chunk-5OKOC4JC.js";import{b as G,c as Y}from"./chunk-GUAY7ENF.js";import"./chunk-UNR3ZOEG.js";import{a as T}from"./chunk-Y7XNAN3T.js";import"./chunk-PCT2X63S.js";import"./chunk-QAYQBKTV.js";import{i as H,l as N}from"./chunk-X37QOLRV.js";import{Aa as M,Ba as k,Bb as O,Bc as z,Hc as B,Ic as U,Jc as _,Lc as F,Nc as R,Oc as y,Pb as I,Pc as C,Rb as E,Sb as D,Ub as $,Vb as j,Wb as d,Xb as r,Yb as a,Zb as w,dd as A,e as b,fb as m,fc as x,i as g,jb as s,jc as v,ka as V,lc as l,pa as p,r as S,wa as u,wc as L,xa as f,zc as c}from"./chunk-KG2R5REB.js";import"./chunk-GAL4ENT6.js";var h=class t{document=p(M);get isSupported(){return"startViewTransition"in this.document}startViewTransition(i){return this.isSupported?new b(e=>{let n=this.document.startViewTransition(i);return n.updateCallbackDone.then(()=>{e.next(n)},o=>{e.error(o)}),n.ready.catch(o=>{e.error(o)}),n.finished.then(()=>{e.complete()},o=>{e.error(o)}),()=>{n.skipTransition()}}):S(()=>new Error("startViewTransition is not supported in your browser"))}static \u0275fac=function(e){return new(e||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})};var K=()=>["ts"],Q=(t,i)=>({detailInfo:t,activeIndex:i});function X(t,i){if(t&1){let e=x();r(0,"div",1)(1,"img",4),v("click",function(){u(e);let o=l();return f(o.close())}),a()()}if(t&2){l();let e=_(11);s(),d("src",e.detailInfo.src,m)}}function Z(t,i){if(t&1){let e=x();r(0,"div",6),v("click",function(){let o=u(e).$index,q=l(2);return f(q.open(o))}),r(1,"span",7),c(2," Photo by "),r(3,"a",8),c(4),a()(),w(5,"img",9),a()}if(t&2){let e=i.$implicit,n=i.$index;l(2);let o=_(11);s(3),d("href",e.url,m),s(),z(" ",e.author," "),s(),L("view-transition-name",o.activeIndex===n?"expandable-image":null),d("src",e.src,m)}}function ee(t,i){if(t&1&&(r(0,"div",2),$(1,Z,6,5,"div",5,D),a()),t&2){let e=l();s(),j(e.data)}}var te=[{src:"https://images.pexels.com/photos/16316785/pexels-photo-16316785/free-photo-of-fluffy-cat-on-blooming-tree-background.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",author:"Peng Louis",url:"https://www.pexels.com/photo/fluffy-cat-on-blooming-tree-background-16316785/"},{src:"https://images.pexels.com/photos/6001385/pexels-photo-6001385.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",author:"Sam Lion",url:"https://www.pexels.com/photo/cute-curious-cat-watching-video-on-laptop-sitting-on-couch-6001385/"},{src:"https://images.pexels.com/photos/7210265/pexels-photo-7210265.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",author:"Blue Bird",url:"https://www.pexels.com/photo/ginger-cat-sleeping-on-ground-in-autumn-7210265/"}],ie=`
    // 1) Import service through DI
    // In Constructor
    constructor(private viewTransitionService: WaViewTransitionService) {}
    // or with inject (Angular 14+)
    private service = inject(WaViewTransitionService);

    // 2) Call startViewTransition method and pass callback that would change the DOM
    private showMyComponent(): void {
        this.viewTransitionService.startViewTransition(() => {
            this.showMyComponent = true;
            // You might want to call detectChanges to update the DOM inside startViewTransition callback
            this.cdr.detectChanges();
        }).subscribe();
    }
`,P=class t{viewTransitionService=p(h);cdr=p(A);destroyRef=p(k);codeSample=ie;data=te;activeIndex$=new g(-1);detailInfo$=new g(void 0);open(i){this.activeIndex$.next(i),this.viewTransitionService.startViewTransition(()=>{this.detailInfo$.next(this.data[i]),this.cdr.detectChanges()}).pipe(T(this.destroyRef)).subscribe()}close(){this.viewTransitionService.startViewTransition(()=>{this.detailInfo$.next(void 0),this.cdr.detectChanges(),this.activeIndex$.next(-1)}).pipe(T(this.destroyRef)).subscribe()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=O({type:t,selectors:[["view-transition-page"]],decls:18,vars:12,consts:[[3,"highlight","languages"],[1,"expanded-photo"],[1,"photos"],["href","https://www.pexels.com","rel","noreferrer","target","_blank","tuiLink",""],["alt","image",3,"click","src"],[1,"photo"],[1,"photo",3,"click"],[1,"author"],["target","_blank",3,"href"],["alt","img",3,"src"]],template:function(e,n){if(e&1&&(r(0,"h2"),c(1,"How to use"),a(),r(2,"p"),c(3," Usage is pretty simple: just import service in your component and call "),r(4,"code"),c(5,"startViewTransition"),a(),c(6,` on it.
`),a(),r(7,"pre"),w(8,"code",0),a(),r(9,"h2"),c(10,"Basic example"),a(),B(11),y(12,"async"),y(13,"async"),I(14,X,2,1,"div",1)(15,ee,3,0,"div",2),r(16,"a",3),c(17,` Photos provided by Pexels
`),a()),e&2){s(8),d("highlight",n.codeSample)("languages",F(8,K)),s(3);let o=U(R(9,Q,C(12,3,n.detailInfo$),C(13,5,n.activeIndex$)));s(3),E(o.detailInfo?14:15)}},dependencies:[N,Y,G,W,H],styles:["[_nghost-%COMP%]{display:flex;align-items:center;flex-direction:column}.photos[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;flex-wrap:wrap;gap:1rem;margin:1rem 0}.photo[_ngcontent-%COMP%]{display:flex;inline-size:12rem;flex-direction:column;align-items:center;cursor:pointer}.photo[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{margin-block-end:.5rem}.photo[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;inline-size:100%;border-radius:.5rem;transition:transform .2s}.photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.expanded-photo[_ngcontent-%COMP%]{display:flex;margin:0 auto 1rem;inline-size:20rem;cursor:pointer}.expanded-photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;border-radius:1rem;box-shadow:0 .75rem 2.25rem #0003;inline-size:100%}@supports (view-transition-name: expandable-image){.expanded-photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{view-transition-name:expandable-image}}"],changeDetection:0})};export{P as default};
