import{a as D,c as w}from"./chunk-JYWUUMHF.js";import{A as q,g as z,o as Q,v as U}from"./chunk-34U4OIOH.js";import{p as S}from"./chunk-X37QOLRV.js";import{$c as N,Bb as A,Db as a,Fb as g,Kc as H,La as j,Ma as u,Sa as P,_c as y,e as I,ec as E,jc as R,ka as c,mc as B,nc as L,pa as s,qa as v,qb as T,rb as O,tc as V,uc as k,vb as x,wb as d,za as b}from"./chunk-KG2R5REB.js";import{a as m,b as F}from"./chunk-GAL4ENT6.js";var Y=["vcr"],ce=(()=>{let e=class e{constructor(t){this.service=t,this.injector=s(v)}open(t,n={}){return new I(o=>this.add(new w(this.component,b.create({parent:this.injector,providers:[{provide:D,useValue:F(m(m({},this.options),n),{content:t,$implicit:o,createdAt:Date.now(),id:z(),completeWith:r=>{o.next(r),o.complete()}})}]}))))}add(t){let n=this.service.add(t);return()=>n.destroy()}};e.\u0275fac=function(n){x()},e.\u0275prov=c({token:e,factory:e.\u0275fac});let i=e;return i})();var p=(()=>{let e=class e{attach(t){this.host=t}add(t,n){if(!this.host)throw new C;return t instanceof w?this.host.addComponent(t):this.host.addTemplate(t,n)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=c({token:e,factory:e.\u0275fac});let i=e;return i})(),C=class extends Error{constructor(){super("")}},G=(()=>{let e=class e{constructor(){this.vcr=N.required("vcr",{read:d}),this.injector=s(v),s(p).attach(this)}addComponent(t){let n=t.i.get(D,{optional:!0}),o=t.createInjector(this.injector,n||void 0),r=this.vcr().createComponent(t.component,{injector:o});return r.changeDetectorRef.detectChanges(),r}addTemplate(t,n){return this.vcr().createEmbeddedView(t,n)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=a({type:e,viewQuery:function(n,o){n&1&&V(o.vcr,Y,5,d),n&2&&k()}});let i=e;return i})();var K=["*"],J=(()=>{let e=class e extends p{};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=u(e)))(o||e)}})(),e.\u0275prov=c({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),ye=(()=>{let e=class e{constructor(){this.template=s(O),this.service=s(J),this.show=y(!1,{alias:"tuiPopup"})}ngOnChanges(){this.ref?.destroy(),this.show()&&(this.ref=this.service.add(this.template))}ngOnDestroy(){this.ref?.destroy()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=a({type:e,selectors:[["ng-template","tuiPopup",""]],inputs:{show:[1,"tuiPopup","show"]},features:[j]});let i=e;return i})(),De=(()=>{let e=class e extends G{};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=u(e)))(o||e)}})(),e.\u0275cmp=A({type:e,selectors:[["tui-popups"]],features:[H([Q(p,J)]),g],ngContentSelectors:K,decls:3,vars:0,consts:[["vcr",""]],template:function(n,o){n&1&&(B(),L(0),E(1,null,0))},styles:['[_nghost-%COMP%]{position:fixed;top:0;left:0;inline-size:100%;block-size:100%;display:grid;grid-template-rows:repeat(9,min-content) 1fr;pointer-events:none;overflow:hidden;overflow-wrap:break-word;box-sizing:border-box;padding:env(safe-area-inset-top) env(safe-area-inset-left) env(safe-area-inset-bottom) env(safe-area-inset-right)}[_nghost-%COMP%]    >*{pointer-events:auto}[_nghost-%COMP%]:after{content:"";grid-row:10}'],changeDetection:0});let i=e;return i})();var X="tui-enter",M="tui-leave",be=(()=>{let e=class e{constructor(){this.renderer=s(d)._hostLView?.[11],this.el=q(),T(()=>this.remove()),this.renderer&&S(s(P))&&Z(this.renderer.delegate||this.renderer)}remove(){this.el.isConnected&&!this.el.getAnimations?.().length&&this.el.classList.remove(X)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=a({type:e,selectors:[["","tuiAnimated",""]],hostAttrs:[1,"tui-enter"],hostBindings:function(n,o){n&1&&R("animationend.self",function(){return o.remove()})("animationcancel.self",function(){return o.remove()})}});let i=e;return i})();function Z(i){if(i.data[M])return;let{removeChild:e}=i;i.data[M]=!0,i.removeChild=(f,t,n)=>{if(!U(t)){e.call(i,f,t,n);return}t.classList.remove(X);let{length:o}=t.getAnimations?.()||[];t.classList.add(M);let r=t.getAnimations?.()??[],h=r[r.length-1],l=()=>{(!f||f.contains(t))&&e.call(i,f,t,n)};r.length>o&&h?(h.onfinish=l,h.oncancel=l):l()}}export{be as a,ce as b,J as c,ye as d,De as e};
