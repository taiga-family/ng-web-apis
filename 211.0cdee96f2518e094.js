"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[211],{9211:(x,d,o)=>{o.r(d),o.d(d,{default:()=>M});var s=o(9842),m=o(2881),g=o(4341),u=o(4336),t=o(1360),h=o(7675);let v=(()=>{var i;class a{constructor(){(0,s.A)(this,"localStorage",(0,t.WQX)(h.fc)),(0,s.A)(this,"windowRef",(0,t.WQX)(h.Qc))}get length(){var e;return(null==(e=this.localStorage)?void 0:e.length)??NaN}getItem(e){var n;return(null==(n=this.localStorage)?void 0:n.getItem(e))??null}setItem(e,n){var r;const l=this.getItem(e);null==(r=this.localStorage)||r.setItem(e,n),this.notify(e,n,l)}removeItem(e){var l;const n=this.getItem(e);null==(l=this.localStorage)||l.removeItem(e),this.notify(e,null,n)}clear(){var e;null==(e=this.localStorage)||e.clear(),this.notify(null,null,null)}key(e){var n;return(null==(n=this.localStorage)?void 0:n.key(e))??null}notify(e,n,l){const r=new StorageEvent("storage",{key:e,newValue:n,oldValue:l,storageArea:this.localStorage,url:this.windowRef.location.href});this.windowRef.dispatchEvent(r)}}return i=a,(0,s.A)(a,"\u0275fac",function(e){return new(e||i)}),(0,s.A)(a,"\u0275prov",t.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})),a})();var p=o(3726);const f=new t.nKC("[WA_STORAGE_EVENT]",{factory:()=>(0,p.R)((0,t.WQX)(h.Qc),"storage")});var S=o(5964),A=o(6354),F=o(7049);let T=(()=>{var i;class a{constructor(){(0,s.A)(this,"storageService",(0,t.WQX)(v)),(0,s.A)(this,"storage",(0,t.WQX)(h.fc)),(0,s.A)(this,"value$",(0,t.WQX)(f).pipe(function E(i){return(0,S.p)(({key:a})=>null===a||a===i)}("value"),function y(){return(0,A.T)(({newValue:i})=>i)}())),(0,s.A)(this,"native",""),(0,s.A)(this,"service",""),(0,s.A)(this,"index",0)}withStorage(e){var n;null==(n=this.storage)||n.setItem("value",e),this.native=e}withService(e){this.storageService.setItem("value",e),this.service=e}}return i=a,(0,s.A)(a,"\u0275fac",function(e){return new(e||i)}),(0,s.A)(a,"\u0275cmp",t.VBU({type:i,selectors:[["example"]],decls:17,vars:5,consts:[["tuiGroup",""],[3,"ngModelChange","ngModel"],["size","m"]],template:function(e,n){1&e&&(t.j41(0,"h3"),t.EFF(1," Value from "),t.j41(2,"code"),t.EFF(3,"STORAGE_EVENT"),t.k0s(),t.EFF(4),t.nI1(5,"async"),t.k0s(),t.j41(6,"p",0)(7,"tui-input",1),t.bIt("ngModelChange",function(r){return n.withStorage(r)}),t.EFF(8," Native update "),t.k0s(),t.j41(9,"tui-input",1),t.bIt("ngModelChange",function(r){return n.withService(r)}),t.EFF(10," With service "),t.k0s()(),t.j41(11,"tui-notification",2)(12,"div"),t.EFF(13," Native event is only triggered with update happens in another tab. Try opening this page in another tab and type into the first input. Use "),t.j41(14,"code"),t.EFF(15,"StorageService"),t.k0s(),t.EFF(16," if you need to know about changes in the same tab too. "),t.k0s()()),2&e&&(t.R7$(4),t.SpI(" : ",t.bMT(5,3,n.value$),"\n"),t.R7$(3),t.Y8G("ngModel",n.native),t.R7$(2),t.Y8G("ngModel",n.service))},dependencies:[m.MD,m.Jj,g.YN,g.BC,g.vS,u.zi,u.mp,u.Ws,F.wS],encapsulation:2,changeDetection:0})),a})();var I=o(3204);let M=(()=>{var i;class a{constructor(){(0,s.A)(this,"example",{TypeScript:o.e(385).then(o.t.bind(o,6385,17)),HTML:o.e(520).then(o.t.bind(o,1520,17))})}}return i=a,(0,s.A)(a,"\u0275fac",function(e){return new(e||i)}),(0,s.A)(a,"\u0275cmp",t.VBU({type:i,selectors:[["common-page"]],decls:2,vars:1,consts:[[3,"content"]],template:function(e,n){1&e&&(t.j41(0,"tui-doc-example",0),t.nrm(1,"example"),t.k0s()),2&e&&t.Y8G("content",n.example)},dependencies:[m.MD,T,g.YN,I.FS,u.zi],styles:["[_nghost-%COMP%]{display:block;max-inline-size:37.5rem;margin:0 auto}tui-doc-example[_ngcontent-%COMP%]{padding:0}"],changeDetection:0})),a})()}}]);