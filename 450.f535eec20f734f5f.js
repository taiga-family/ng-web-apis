"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[450],{3450:(j,c,o)=>{o.r(c),o.d(c,{default:()=>F});var n=o(9842),l=o(2881),e=o(1360),h=o(7675),g=o(2018),m=o(2165),d=o(4412),p=o(8141),v=o(9437),f=o(7673);function P(s,i){if(1&s&&(e.j41(0,"div"),e.EFF(1," Unfortunately we could not show what the code snippet above would render due to an error: "),e.nrm(2,"br"),e.j41(3,"b"),e.EFF(4),e.k0s()()),2&s){e.XpG();const a=e.r8f(6);e.R7$(4),e.JRh(a)}}function S(s,i){if(1&s&&(e.j41(0,"div")(1,"p"),e.EFF(2,"The sample above would render the following:"),e.k0s(),e.nrm(3,"hr"),e.j41(4,"h2",1),e.EFF(5),e.k0s(),e.nrm(6,"hr"),e.j41(7,"p"),e.EFF(8,"Go ahead and change your browser Location permission as shown below to see this change reflected above."),e.k0s(),e.j41(9,"div",1),e.nrm(10,"img",2),e.k0s()()),2&s){e.XpG();const a=e.r8f(8);e.R7$(5),e.SpI("Geolocation state: ",a,"")}}let F=(()=>{var s;class i{constructor(){(0,n.A)(this,"navigator",(0,e.WQX)(h.Rp)),(0,n.A)(this,"error$",new d.t(null)),(0,n.A)(this,"basicSample","import { PermissionsService } from '@ng-web-apis/permissions';\n\n@Component({\n  selector: 'main',\n  template: `\n    <h2>Geolocation state: {{ geolocationState$ | async }}</h2>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class App {\n  geolocationState$ = this.permissionsService.state('geolocation');\n\n  constructor(\n    private readonly permissionsService: PermissionsService,\n  ) {}\n}\n"),(0,n.A)(this,"geolocationState$",(0,e.WQX)(g.Kn).state("geolocation").pipe((0,p.M)(t=>{"prompt"===t&&(alert("After you acknowledge this message the browser will ask your permission to allow location access!"),this.navigator.geolocation.getCurrentPosition(()=>{}))}),(0,v.W)(t=>(this.error$.next(t.message),(0,f.of)(null)))))}}return s=i,(0,n.A)(i,"\u0275fac",function(t){return new(t||s)}),(0,n.A)(i,"\u0275cmp",e.VBU({type:s,selectors:[["permissions-page"]],decls:12,vars:9,consts:[[3,"highlight"],[1,"align-center"],["alt","Click on 'View site information' icon next to the address bar and change selected permission for Location","src","assets/change-permissions-instructions.jpg"]],template:function(t,r){if(1&t&&(e.EFF(0,"The following example shows basic usage of\n"),e.j41(1,"code"),e.EFF(2,"PermissionsService"),e.k0s(),e.EFF(3,"\n: "),e.j41(4,"pre"),e.nrm(5,"code",0),e.k0s(),e.SS7(6),e.nI1(7,"async"),e.SS7(8),e.nI1(9,"async"),e.DNE(10,P,5,1,"div")(11,S,11,1,"div")),2&t){e.R7$(5),e.Y8G("highlight",r.basicSample),e.R7$();const y=e.bH3(e.bMT(7,3,r.error$));e.R7$(2);const $=e.bH3(e.bMT(9,6,r.geolocationState$));e.R7$(2),e.vxM(y?10:-1),e.R7$(),e.vxM($?11:-1)}},dependencies:[l.MD,l.Jj,m.fw,m.f4],styles:["[_nghost-%COMP%]{display:block;max-inline-size:37.5rem;margin:0 auto}"],changeDetection:0})),i})()}}]);