import{a as z,f as P,i as B,j as C,la as V,q as G,y as H}from"./chunk-34U4OIOH.js";import{a as Z}from"./chunk-PCT2X63S.js";import{a as E,b as j,c as k}from"./chunk-QAYQBKTV.js";import{p as U}from"./chunk-X37QOLRV.js";import{Aa as p,Ba as x,Db as S,Fa as N,Lb as A,Ma as u,Sa as w,Xc as R,ka as c,na as d,pa as a}from"./chunk-KG2R5REB.js";import{a as f,b,c as M}from"./chunk-GAL4ENT6.js";var T=new d(""),Tt=(()=>{let t=class t{constructor(){this.handler=a(T,{optional:!0}),this.nothing=a(x).onDestroy(this.handler&&U(a(w))&&typeof ResizeObserver<"u"?P(this.handler,a(Z)):G)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=S({type:t});let n=t;return n})();var I=class extends CustomEvent{constructor(t,s){var o=s,{clientX:i,clientY:e}=o,r=M(o,["clientX","clientY"]);super(t,b(f({},r),{detail:{clientX:i,clientY:e}}))}},$=({userAgent:n,maxTouchPoints:t})=>/ipad|iphone|ipod/i.test(n)||/^((?!chrome|android).)*safari/i.test(n)&&t>1,q=700,Y=typeof navigator>"u"?null:navigator,J=15,D=class extends E{constructor(){super(...arguments),this.isIOS=!!Y&&$(Y)}addEventListener(t,i,e){let r=this.isIOS?this.listenTouchEvents(t):this.listenContextmenuEvent(t);return t.addEventListener("longtap",e),()=>{r(),t.removeEventListener("longtap",e)}}supports(t){return t==="longtap"}listenContextmenuEvent(t){return this.manager.addEventListener(t,"contextmenu.prevent.stop",({clientX:i,clientY:e})=>{this.dispatchLongtapEvent(t,i,e)})}listenTouchEvents(t){let i=null,e=null,r=()=>{clearTimeout(i),e=null,i=null},s=this.manager.addEventListener(t,"touchstart.zoneless.passive",({touches:L})=>{let h=L[0];if(!h)return;let{clientX:v,clientY:g}=h;e={clientX:v,clientY:g},i=setTimeout(()=>{this.dispatchLongtapEvent(t,v,g),r()},q)}),o=this.manager.addEventListener(t,"touchmove.zoneless.passive",({touches:L})=>{let h=L[0];if(!h||!e)return;let{clientX:v,clientY:g}=h;Math.hypot(v-e.clientX,g-e.clientY)<=J||r()}),m=this.manager.addEventListener(t,"touchcancel.zoneless.passive",r),X=this.manager.addEventListener(t,"touchend.zoneless.passive",r);return()=>{s(),o(),m(),X()}}dispatchLongtapEvent(t,i,e){t.dispatchEvent(new I("longtap",{clientX:i,clientY:e,bubbles:!1,cancelable:!1,composed:!1}))}},y=class extends E{supports(t){return this.regExp.test(t)}getDelay(t){let i=this.regExp.exec(t);if(!i?.groups)throw new Error(`Invalid event: ${t}`);let{time:e,units:r}=i.groups;switch(r){case"ms":return Number(e);case"s":return Number(e)*1e3;default:throw new Error(`Invalid event: ${t}`)}}unwrap(t){return t.replace(this.regExp,"")}},O=class extends y{constructor(){super(...arguments),this.regExp=/\.debounce~(?<time>\d+)(?<units>ms|s)/}addEventListener(t,i,e){let r,s=this.manager.addEventListener(t,this.unwrap(i),o=>{clearTimeout(r),r=setTimeout(()=>{e(o)},this.getDelay(i))});return()=>{clearTimeout(r),s()}}},l=(()=>{let t=class t extends E{constructor(){super(a(p))}supports(e){return e.includes(this.modifier)}unwrap(e){return e.split(".").filter(r=>!this.modifier.includes(r)).join(".")}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=c({token:t,factory:t.\u0275fac});let n=t;return n})(),Q=new d("",{factory:()=>{let n=a(p);return t=>t.split(".").reduce((i,e)=>i?.[e],n.defaultView)}}),tt=(()=>{let t=class t extends l{constructor(){super(...arguments),this.handler=a(Q),this.modifier=">"}addEventListener(e,r,s){return this.manager.addEventListener(this.handler(r.split(">")[0]),r.split(">")?.[1]??"",s)}};t.\u0275fac=(()=>{let e;return function(s){return(e||(e=u(t)))(s||t)}})(),t.\u0275prov=c({token:t,factory:t.\u0275fac});let n=t;return n})(),et=(()=>{let t=class t extends l{constructor(){super(...arguments),this.modifier="capture.once.passive"}supports(e){return e.includes(".")&&!this.unwrap(e).includes(".")}addEventListener(e,r,s){let o=this.unwrap(r),m=r.includes(".capture");return e.addEventListener(o,s,{capture:m,once:r.includes(".once"),passive:r.includes(".passive")}),()=>e.removeEventListener(o,s,{capture:m})}};t.\u0275fac=(()=>{let e;return function(s){return(e||(e=u(t)))(s||t)}})(),t.\u0275prov=c({token:t,factory:t.\u0275fac});let n=t;return n})(),nt=(()=>{let t=class t extends l{constructor(){super(...arguments),this.modifier=".prevent"}addEventListener(e,r,s){return this.manager.addEventListener(e,this.unwrap(r),o=>{o.preventDefault(),s(o)})}};t.\u0275fac=(()=>{let e;return function(s){return(e||(e=u(t)))(s||t)}})(),t.\u0275prov=c({token:t,factory:t.\u0275fac});let n=t;return n})(),rt=(()=>{let t=class t extends l{constructor(){super(...arguments),this.modifier="resize"}supports(e){return e==="resize"}addEventListener(e,r,s){if(typeof ResizeObserver>"u"||!(e instanceof Element))return e.addEventListener(r,s),()=>e.removeEventListener(r,s);let o=new ResizeObserver(s);return o.observe(e),()=>o.disconnect()}};t.\u0275fac=(()=>{let e;return function(s){return(e||(e=u(t)))(s||t)}})(),t.\u0275prov=c({token:t,factory:t.\u0275fac});let n=t;return n})(),st=(()=>{let t=class t extends l{constructor(){super(...arguments),this.modifier=".self"}addEventListener(e,r,s){return this.manager.addEventListener(e,this.unwrap(r),o=>{o.target===o.currentTarget&&s(o)})}};t.\u0275fac=(()=>{let e;return function(s){return(e||(e=u(t)))(s||t)}})(),t.\u0275prov=c({token:t,factory:t.\u0275fac});let n=t;return n})(),it=(()=>{let t=class t extends l{constructor(){super(...arguments),this.modifier=".stop"}addEventListener(e,r,s){return this.manager.addEventListener(e,this.unwrap(r),o=>{o.stopPropagation(),s(o)})}};t.\u0275fac=(()=>{let e;return function(s){return(e||(e=u(t)))(s||t)}})(),t.\u0275prov=c({token:t,factory:t.\u0275fac});let n=t;return n})(),F=class extends y{constructor(){super(...arguments),this.regExp=/\.throttle~(?<time>\d+)(?<units>ms|s)/}addEventListener(t,i,e){let r,s=this.manager.addEventListener(t,this.unwrap(i),o=>{r===void 0&&(e(o),r=setTimeout(()=>{r=void 0},this.getDelay(i)))});return()=>{clearTimeout(r),s()}}},ot=(()=>{let t=class t extends l{constructor(){super(...arguments),this.modifier=".zoneless"}addEventListener(e,r,s){return t.ngZone=this.manager.getZone(),t.ngZone?.runOutsideAngular(()=>this.manager.addEventListener(e,this.unwrap(r),s))}};t.\u0275fac=(()=>{let e;return function(s){return(e||(e=u(t)))(s||t)}})(),t.\u0275prov=c({token:t,factory:t.\u0275fac});let n=t;return n})(),at=[ot,st,tt,et,nt,rt,it,D,O,F],ct=at.map(n=>({provide:j,multi:!0,useClass:n}));function W(){return ct}var ut=new d("",{factory:()=>N(0)});function dt(){return{provide:T,useFactory:()=>{let n=a(ut),{documentElement:t}=a(p);return i=>{let e=z(i,17,28)-17;return n.set(e),t.style.setProperty("--tui-font-offset",C(e))}}}}var lt=300;function Pt(n){return n&&lt/n}var ft=["Spacebar","Backspace","Delete","ArrowLeft","ArrowRight","Left","Right","End","Home"];function Bt(n=""){return n.length===1||ft.includes(n)}function Ct(n,t="tui-popups"){return!!H(n)?.some(i=>!i.closest(t))}function Gt(n,t){return(i,e)=>{let r=i||f({},e||t);return Object.keys(n).forEach(s=>{r[s]=n[s]}),r}}var pt={apis:"stable",fontScaling:!0,scrollbars:"custom"},ht=new d("");function Zt(n={}){let t=f(f({},pt),n),i=[{provide:k,useValue:!1},{provide:ht,useValue:t},W(),A(()=>{let e=a(p),r=a(V);t.scrollbars==="custom"&&e.documentElement.classList.add("tui-zero-scrollbar"),B(t.mode)&&r.set(t.mode==="dark"),R(()=>{r()?e.body.setAttribute("tuiTheme","dark"):e.body.removeAttribute("tuiTheme")})})];return t.fontScaling&&i.push(dt()),i}var K={xxs:0,xs:1,s:2,m:3,l:4,xl:5,xxl:6};function Ht(n,t="s"){return K[n]>K[t]}export{Tt as a,Pt as b,Bt as c,Ct as d,Gt as e,ht as f,Zt as g,Ht as h};
