import{Ba as i,Fa as l,Vc as b,Wc as D,Xc as w,ca as m,e as p,ha as d,j as g,pa as c,za as y}from"./chunk-KG2R5REB.js";function x(n){n||(n=c(i));let e=new p(t=>{if(n.destroyed){t.next();return}return n.onDestroy(t.next.bind(t))});return t=>t.pipe(m(e))}var v=class{source;destroyed=!1;destroyRef=c(i);constructor(e){this.source=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}subscribe(e){if(this.destroyed)throw new d(953,!1);let t=this.source.pipe(x(this.destroyRef)).subscribe({next:r=>e(r)});return{unsubscribe:()=>t.unsubscribe()}}};function F(n,e){return new v(n)}function L(n,e){let t=e?.injector??c(y),r=new g(1),a=w(()=>{let o;try{o=n()}catch(u){b(()=>r.error(u));return}b(()=>r.next(o))},{injector:t,manualCleanup:!0});return t.get(i).onDestroy(()=>{a.destroy(),r.complete()}),r.asObservable()}function N(n,e){let r=!e?.manualCleanup?e?.injector?.get(i)??c(i):null,a=h(e?.equal),o;e?.requireSync?o=l({kind:0},{equal:a}):o=l({kind:1,value:e?.initialValue},{equal:a});let u,f=n.subscribe({next:s=>o.set({kind:1,value:s}),error:s=>{o.set({kind:2,error:s}),u?.()},complete:()=>{u?.()}});if(e?.requireSync&&o().kind===0)throw new d(601,!1);return u=r?.onDestroy(f.unsubscribe.bind(f)),D(()=>{let s=o();switch(s.kind){case 1:return s.value;case 2:throw s.error;case 0:throw new d(601,!1)}},{equal:e?.equal})}function h(n=Object.is){return(e,t)=>e.kind===1&&t.kind===1&&n(e.value,t.value)}export{x as a,F as b,L as c,N as d};
