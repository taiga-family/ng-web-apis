import{a as oe,b as wt,c as Tt,d as Pt,f as Mt,g as Et}from"./chunk-J25ZYXUH.js";import{a as ft}from"./chunk-5PZMI3PJ.js";import{a as yt,b as re}from"./chunk-LTLPOGSA.js";import{a as ae,b as Ot,c as Rt,d as Nt,f as kt,g as Lt,h as Wt,i as $t,k as Vt,l as zt,m as Bt,n as Ht,p as jt,q as Ut,r as Gt}from"./chunk-QTI7RY3R.js";import{a as Ft}from"./chunk-OGJCHDNF.js";import{a as vt,b as Ct,g as St,h as bt,j as Te,k as Dt,l as At,m as It}from"./chunk-LWKLXDKO.js";import{A as z,B as ht,D as be,G as we,H as _t,k as ut,q as gt,y as ne,z as ie}from"./chunk-3VG4TGX5.js";import{a as xt}from"./chunk-QURY7JOQ.js";import{b as ye}from"./chunk-NSMAPXG6.js";import{b as dt}from"./chunk-PEJ7EE5R.js";import"./chunk-MVBQ4QH2.js";import"./chunk-OTLIHRLE.js";import"./chunk-7DO6NSGI.js";import{b as pt,c as mt,e as Se}from"./chunk-JYWUUMHF.js";import{A as te,E as xe,F as et,J as tt,K as nt,M as it,V as ot,b as Je,ca as rt,ja as at,ka as st,m as V,o as Qe,p as ee,sa as lt,ta as ct}from"./chunk-34U4OIOH.js";import{a as X,b as Xe,c as Ce,e as J,f as Q,h as K,i as q}from"./chunk-5OKOC4JC.js";import"./chunk-P3XR4P57.js";import"./chunk-UNR3ZOEG.js";import{b as Ke}from"./chunk-Y7XNAN3T.js";import{a as qe}from"./chunk-PCT2X63S.js";import"./chunk-QAYQBKTV.js";import{h as Ge,l as Ye,p as Ze}from"./chunk-X37QOLRV.js";import{Ac as he,Bb as T,Bc as P,C as Ie,Db as ue,Ec as p,Fb as N,Fc as m,G as Fe,Gb as I,Gc as g,Hb as w,Kc as A,La as Ne,Lc as $e,Ma as O,Mc as _e,Ob as k,Oc as Y,Pb as _,Pc as Z,Rb as v,Sa as ke,Sb as de,Sc as Ve,Ub as pe,Uc as ze,Vb as me,Wb as u,Wc as C,Xb as a,Yb as l,Yc as Be,Zb as y,Zc as He,_c as b,ad as ve,ba as Oe,bc as L,bd as je,cc as W,cd as Ue,dc as ge,fb as Le,fc as F,gc as $,ja as Re,jb as s,jc as S,lc as d,mc as H,nc as j,pa as f,rb as R,sc as U,u as Ae,uc as fe,vc as G,wa as M,wc as We,xa as E,xc as D,zc as c}from"./chunk-KG2R5REB.js";import"./chunk-GAL4ENT6.js";var Me=["*"],Jt=t=>({$implicit:t});function dn(t,i){if(t&1&&(L(0),c(1),W()),t&2){let o=i.polymorpheusOutlet;s(),P(" ",o," ")}}function pn(t,i){if(t&1&&(a(0,"div",7),c(1),l()),t&2){let o=d();s(),P(" ",o.fileSize()," ")}}function mn(t,i){if(t&1&&(L(0),c(1),W()),t&2){let o=d();s(),P(" ",o," ")}}function gn(t,i){t&1&&(a(0,"div",8),w(1,mn,2,1,"ng-container",2),l()),t&2&&(s(),u("polymorpheusOutlet",i))}function fn(t,i){if(t&1){let o=F();a(0,"button",10),S("click.prevent",function(){M(o);let r=d(2);return E(r.remove.emit())})("mousedown.prevent.zoneless",function(){return M(o),E(0)}),c(1),l()}if(t&2){let o=d(2);u("iconStart",o.icons.close),s(),P(" ",i.remove," ")}}function hn(t,i){if(t&1&&_(0,fn,2,2,"button",9),t&2){let o,e=d();v((o=e.fileTexts())?0:-1,o)}}function _n(t,i){if(t&1&&y(0,"img",11),t&2){let o=d(2);u("src",o.preview(),Le)}}function vn(t,i){if(t&1&&y(0,"tui-loader",12),t&2){let o=d(3);u("inheritColor",o.size()==="l")}}function Cn(t,i){if(t&1&&y(0,"tui-icon",15),t&2){let o=i.polymorpheusOutlet,e=d(4);D("t-icon_blank",e.size()==="l"||e.state()==="deleted")("t-icon_error",e.state()==="error"),u("icon",o.toString())}}function xn(t,i){if(t&1&&w(0,Cn,1,5,"tui-icon",14),t&2){let o=d(3);u("polymorpheusOutlet",o.icon())("polymorpheusOutletContext",_e(2,Jt,o.size()))}}function yn(t,i){if(t&1&&_(0,vn,1,1,"tui-loader",12)(1,xn,1,4,"tui-icon",13),t&2){let o=d(2);v(o.state()==="loading"?0:1)}}function Sn(t,i){if(t&1&&_(0,_n,1,1,"img",11)(1,yn,2,1),t&2){let o=d();v(o.preview()?0:1)}}function bn(t,i){if(t&1&&ge(0,0),t&2){let o=d().$implicit;u("ngTemplateOutlet",o)}}function wn(t,i){if(t&1&&_(0,bn,1,1,"ng-container",0),t&2){let o=i.$index,e=d();v(!e.max()||o<e.max()?0:-1)}}function Tn(t,i){if(t&1&&ge(0,0),t&2){let o=d().$implicit;u("ngTemplateOutlet",o)}}function Pn(t,i){if(t&1&&_(0,Tn,1,1,"ng-container",0),t&2){let o=i.$index,e=d(2);v(e.max()&&o>=e.max()?0:-1)}}function Mn(t,i){if(t&1){let o=F();a(0,"tui-expand",1)(1,"div",2),pe(2,Pn,1,1,null,null,de),l()(),a(4,"div",3)(5,"button",4),S("click",function(){M(o);let r=d();return E(r.expanded.set(!r.expanded()))}),c(6),l()()}if(t&2){let o=d();u("expanded",o.expanded()),s(2),me(o.items()),s(2),D("t-bottom_collapsed",!o.expanded()),s(2),P(" ",o.expanded()?o.hideText():o.showAllText()," ")}}function En(t,i){if(t&1&&c(0),t&2){let o=d();P(" ",o.context.$implicit?o.dragged():o.label()," ")}}var Dn=["tuiInputFiles",""];function An(t,i){if(t&1&&(a(0,"span"),c(1),l()),t&2){let o=i.polymorpheusOutlet;s(),P(" ",o," ")}}var Qt="tuiSize",Kt="tuiFormat";function In(t){return({value:i})=>{let o=i&&ee(i),e=i&&o?.filter(r=>r.size>t);return e?.length?{[Qt]:{$implicit:e,size:t}}:null}}function Fn(t){return({value:i})=>{let o=i&&ee(i),e=Rn(t),r=i&&o?.filter(n=>!On(n,e));return r?.length&&t?{[Kt]:{$implicit:r}}:null}}function On({name:t,type:i},o){let e=`.${(t.split(".").pop()||"").toLowerCase()}`;return o.some(r=>r===e||r===i||r.split("/")[1]==="*"&&i?.split("/")[0]===r.split("/")[0])}function Rn(t){return t.toLowerCase().split(",").map(i=>i.trim().toLowerCase())}var Pe=1024,Yt=1024*Pe;function Nn(t){let i=t?.getError(Kt)?.$implicit||[],o=t?.getError(Qt)?.$implicit||[];return Array.from(new Set([...i,...o]))}function kn(t,i,o){return i===void 0?null:i<Pe?`${i} ${t[0]}`:i<Yt?`${(i/Pe).toFixed(0)} ${t[1]}`:`${Je(i/Yt,2).toLocaleString(o)} ${t[2]}`}var Ln={appearance:"outline",formatSize:kn,icons:{normal:({$implicit:t})=>t==="l"?"@tui.file":"@tui.circle-check",error:"@tui.circle-alert",deleted:"@tui.trash"}},[Zt,Bi]=V(Ln),qt=(()=>{let i=class i{constructor(){this.options=f(Zt),this.locale=f(ze),this.units=f(Pt),this.win=f(qe),this.icons=f(st),this.fileTexts=f(Mt),this.content=C(()=>this.state()==="error"&&!this.file().content?this.fileTexts().loadingError:this.file().content||""),this.fileSize=C(()=>this.options.formatSize(this.units(),this.file().size,this.locale)),this.preview=C(()=>this.size()==="l"?this.createPreview(this.file()):""),this.name=C(()=>{let e=this.file().name.lastIndexOf(".");return e>0?this.file().name.slice(0,e):this.file().name}),this.type=C(()=>{let e=this.file().name.lastIndexOf(".");return e>0?this.file().name.slice(e):""}),this.icon=C((e=this.state())=>e==="loading"?"":this.options.icons[e]),this.file=b({name:""}),this.state=b("normal"),this.size=b("m"),this.showDelete=b(!0),this.showSize=b(!0),this.leftContent=b(),this.remove=He()}get allowDelete(){return this.showDelete()&&!!this.remove.listeners?.length}createPreview(e){return e.src?e.src:this.win.File&&e instanceof this.win.File&&e.type?.startsWith("image/")?URL.createObjectURL(e):""}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=T({type:i,selectors:[["tui-file"],["a","tuiFile",""],["button","tuiFile",""]],hostVars:1,hostBindings:function(r,n){r&2&&k("data-delete",n.showDelete())},inputs:{file:[1,"file"],state:[1,"state"],size:[1,"size"],showDelete:[1,"showDelete"],showSize:[1,"showSize"],leftContent:[1,"leftContent"]},outputs:{remove:"remove"},features:[A([xe(Zt)]),I([et])],ngContentSelectors:Me,decls:14,vars:8,consts:[["defaultLeftContent",""],[1,"t-preview"],[4,"polymorpheusOutlet"],[1,"t-wrapper"],[1,"t-text"],["tuiHintOverflow","",1,"t-name"],[1,"t-type"],[1,"t-size"],[1,"t-content"],["appearance","icon","size","xs","tuiIconButton","","type","button",1,"t-remove",3,"iconStart"],["appearance","icon","size","xs","tuiIconButton","","type","button",1,"t-remove",3,"click.prevent","mousedown.prevent.zoneless","iconStart"],["alt","file preview",1,"t-image",3,"src"],[1,"t-loader",3,"inheritColor"],[1,"t-icon",3,"t-icon_blank","t-icon_error","icon"],["class","t-icon",3,"t-icon_blank","t-icon_error","icon",4,"polymorpheusOutlet","polymorpheusOutletContext"],[1,"t-icon",3,"icon"]],template:function(r,n){if(r&1&&(H(),a(0,"div",1),w(1,dn,2,1,"ng-container",2),l(),a(2,"div",3)(3,"div",4)(4,"div",5),c(5),l(),a(6,"div",6),c(7),l(),_(8,pn,2,1,"div",7),l(),_(9,gn,2,1,"div",8),j(10),l(),_(11,hn,1,1),w(12,Sn,2,1,"ng-template",null,0,Ve)),r&2){let h,x=G(13);D("t-preview_big",n.size()==="l"),s(),u("polymorpheusOutlet",n.leftContent()||x),s(4),P(" ",n.name()," "),s(2),he(n.type()),s(),v(n.showSize()&&n.fileSize()?8:-1),s(),v((h=n.content())?9:-1,h),s(2),v(n.allowDelete?11:-1)}},dependencies:[Se,ye,St,ft,xt],styles:['[_nghost-%COMP%]{position:relative;display:flex;align-items:center;font:var(--tui-font-body-m);padding:.625rem;padding-inline-end:2.25rem;text-decoration:none;border-radius:var(--tui-radius-m)}[_nghost-%COMP%]:hover   .t-remove[_ngcontent-%COMP%], [data-delete=always][_nghost-%COMP%]   .t-remove[_ngcontent-%COMP%]{opacity:1}.t-preview[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;flex-shrink:0;inline-size:1.5rem;block-size:1.5rem;margin-inline-end:.75rem;border-radius:var(--tui-radius-m);overflow:hidden;color:var(--tui-text-tertiary)}.t-preview_big[_ngcontent-%COMP%]{inline-size:4rem;block-size:4rem;margin-inline-end:1rem}.t-preview_big[_ngcontent-%COMP%]:before{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;content:"";background:var(--tui-background-neutral-1)}.t-image[_ngcontent-%COMP%]{max-inline-size:100%;max-block-size:100%}.t-loader[_ngcontent-%COMP%]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%}.t-icon[_ngcontent-%COMP%]{position:absolute;inset:0;color:var(--tui-status-positive);margin:auto}.t-icon_blank[_ngcontent-%COMP%]{color:var(--tui-text-tertiary)}.t-icon_error[_ngcontent-%COMP%]{color:var(--tui-text-negative)}.t-remove[_ngcontent-%COMP%]{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;inset-block-start:.625rem;inset-inline-end:.625rem}.t-remove[_ngcontent-%COMP%]:focus{opacity:1}.t-remove[_ngcontent-%COMP%]:focus-visible{box-shadow:inset 0 0 0 2px var(--tui-border-focus)}@media (hover: hover) and (pointer: fine){.t-remove[_ngcontent-%COMP%]{opacity:0}}.t-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;overflow:hidden;color:var(--tui-text-primary)}.t-text[_ngcontent-%COMP%]{display:flex;inline-size:100%}.t-size[_ngcontent-%COMP%]{flex-shrink:0;opacity:var(--tui-disabled-opacity);margin-inline-start:.5rem}.t-type[_ngcontent-%COMP%]{flex-shrink:0}.t-name[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.t-content[_ngcontent-%COMP%]{font:var(--tui-font-body-s);color:var(--tui-text-negative)}'],changeDetection:0});let t=i;return t})(),en=(()=>{let i=class i{constructor(){this.hideText=f(wt),this.showAllText=f(Tt),this.items=je(z,{read:R}),this.max=b(0),this.expanded=Ue(!1)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=T({type:i,selectors:[["tui-files"]],contentQueries:function(r,n,h){r&1&&U(h,n.items,z,4,R),r&2&&fe()},inputs:{max:[1,"max"],expanded:[1,"expanded"]},outputs:{expanded:"expandedChange"},features:[A([yt({size:"m",collapsed:!0,orientation:"vertical"})]),I([re])],ngContentSelectors:Me,decls:4,vars:1,consts:[[3,"ngTemplateOutlet"],[3,"expanded"],["tuiGroup","",1,"t-extra-items"],[1,"t-bottom"],["appearance","outline","size","m","tuiButton","","type","button",1,"t-button",3,"click"]],template:function(r,n){r&1&&(H(),j(0),pe(1,wn,1,1,null,null,de),_(3,Mn,7,4)),r&2&&(s(),me(n.items()),s(2),v(n.max()&&n.items().length>n.max()?3:-1))},dependencies:[Ge,ye,oe,re],styles:[`tui-files{inline-size:100%;overflow:hidden;border-radius:var(--tui-radius-m)}tui-files:empty:empty{display:none}tui-files .t-files{position:relative;display:block;inline-size:100%;block-size:100%;border-radius:var(--tui-radius-m);overflow:hidden}tui-files .t-button{inline-size:100%;border-radius:inherit}tui-files .t-bottom{z-index:3;inline-size:100%;background:var(--tui-background-base);mask:none!important}tui-files .t-bottom_collapsed{box-shadow:var(--tui-shadow-popup);margin-block-start:-1.5rem}tui-files .t-extra-items{inline-size:100%}tui-files .t-extra-items>*{border-radius:0!important}
`],encapsulation:2,changeDetection:0});let t=i;return t})(),Wn=(()=>{let i=class i{constructor(){this.texts=f(Et),this.component=f(le),this.breakpoint=f(at),this.context=pt(),this.link=C(()=>this.component.input()?.el.multiple?this.texts().defaultLinkMultiple:this.texts().defaultLinkSingle),this.label=C(()=>this.component.input()?.el.multiple?this.texts().defaultLabelMultiple:this.texts().defaultLabelSingle),this.dragged=C(()=>this.component.input()?.el.multiple?this.texts().dropMultiple:this.texts().drop)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=T({type:i,selectors:[["ng-component"]],decls:3,vars:2,consts:[["tuiLink",""]],template:function(r,n){r&1&&(a(0,"a",0),c(1),l(),_(2,En,1,1)),r&2&&(s(),he(n.context.$implicit?"":n.link()),s(),v(n.breakpoint()!=="mobile"?2:-1))},dependencies:[dt],encapsulation:2,changeDetection:0});let t=i;return t})(),$n={appearance:"file",accept:"",multiple:!1,size:"m",maxFileSize:30*1024*1024},[tn,Hi]=V($n),Vn=(()=>{let i=class i extends ut{constructor(){super(...arguments),this.options=f(tn),this.accept=this.options.accept,this.maxFileSize=this.options.maxFileSize}ngOnChanges(){this.update()}ngOnInit(){this.update()}update(){this.validate=Ce.compose([Fn(this.accept),In(this.maxFileSize)])||Ce.nullValidator,this.onChange()}};i.\u0275fac=(()=>{let e;return function(n){return(e||(e=O(i)))(n||i)}})(),i.\u0275dir=ue({type:i,hostVars:1,hostBindings:function(r,n){r&2&&$("accept",n.accept)},inputs:{accept:"accept",maxFileSize:"maxFileSize"},exportAs:["tuiInputFilesValidator"],features:[A([Qe(Xe,i,!0)]),N,Ne]});let t=i;return t})(),se=(()=>{let i=class i extends ne{constructor(){super(...arguments),this.host=f(Re(()=>le)),this.m=tt(this.mode),this.el=te(),this.reject=Ke(Ie(0,ot()).pipe(Oe(()=>it(this.control.control)),Ae(()=>Nn(this.control.control)),Fe(({length:e})=>!!e)))}process(e){let r=this.el.multiple?[...zn(this.value()),...Array.from(e)]:e[0];r&&this.onChange(r)}onClick(e){this.el.readOnly&&e.preventDefault()}};i.\u0275fac=(()=>{let e;return function(n){return(e||(e=O(i)))(n||i)}})(),i.\u0275dir=ue({type:i,selectors:[["input","tuiInputFiles",""]],hostAttrs:["title","","type","file"],hostVars:1,hostBindings:function(r,n){r&1&&S("blur",function(){return n.onTouched()})("click",function(x){return n.onClick(x)}),r&2&&$("disabled",n.disabled())},outputs:{reject:"reject"},features:[A([ie(i),xe(tn)]),I([vt,nt,{directive:Vn,inputs:["accept","accept","maxFileSize","maxFileSize"]}]),N]});let t=i;return t})();function zn(t){return t?ee(t):[]}var le=(()=>{let i=class i{constructor(){this.content=new mt(Wn),this.template=ve(R),this.input=ve(se)}get fileDragged(){return!!this.files&&!this.input()?.disabled()}onFilesSelected(e){e?.files&&(this.input()?.process(e.files),e.value="")}onDropped({dataTransfer:e}){this.files=null,e?.files&&!this.input()?.disabled()&&this.input()?.process(e.files)}onDrag(e){this.files=e?.files}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=T({type:i,selectors:[["label","tuiInputFiles",""]],contentQueries:function(r,n,h){r&1&&(U(h,n.template,R,5),U(h,n.input,se,5)),r&2&&fe(2)},hostVars:2,hostBindings:function(r,n){r&1&&S("dragover.prevent.zoneless",function(){return 0})("drop.prevent",function(x){return n.onDropped(x)})("dragenter",function(x){return n.onDrag(x.dataTransfer)})("dragleave",function(){return n.onDrag(null)})("change",function(x){return n.onFilesSelected(x.target)}),r&2&&D("_dragged",n.fileDragged)},attrs:Dn,ngContentSelectors:Me,decls:2,vars:4,consts:[[4,"polymorpheusOutlet","polymorpheusOutletContext"]],template:function(r,n){r&1&&(H(),j(0),w(1,An,2,1,"span",0)),r&2&&(s(),u("polymorpheusOutlet",n.template()||n.content)("polymorpheusOutletContext",_e(2,Jt,n.fileDragged)))},dependencies:[Se],styles:[`label[tuiInputFiles]{position:relative;display:flex;min-block-size:var(--tui-height-l);justify-content:center;align-items:center;text-align:center;border-radius:var(--tui-radius-m);font:var(--tui-font-body-m);overflow-wrap:break-word;padding:0 .5rem}label[tuiInputFiles]>:not(input){position:relative;pointer-events:none}label[tuiInputFiles] input{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;color:transparent;cursor:pointer}label[tuiInputFiles] input:disabled~*{opacity:var(--tui-disabled-opacity)}label[tuiInputFiles] input::-webkit-file-upload-button{display:none}label[tuiInputFiles] input::file-selector-button{display:none}*:disabled label[tuiInputFiles]{pointer-events:none}[tuiAppearance][data-appearance=file]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;border-radius:inherit;box-sizing:border-box;border:1px dashed var(--tui-text-action);outline:none}tui-root._mobile [tuiAppearance][data-appearance=file]{border-style:solid}[tuiInputFiles]._dragged [tuiAppearance][data-appearance=file]{background:var(--tui-background-neutral-1);border-color:var(--tui-text-action-hover)}@media (hover: hover) and (pointer: fine){[tuiAppearance][data-appearance=file]:is(a,button,select,textarea,input,label,.tui-interactive):not(:disabled):hover:not([data-state]){background:var(--tui-background-neutral-1);border-color:var(--tui-text-action-hover)}}[tuiAppearance][data-appearance=file][data-state=hover]{background:var(--tui-background-neutral-1);border-color:var(--tui-text-action-hover)}[tuiAppearance][data-appearance=file]:is(a,button,select,textarea,input,label,.tui-interactive):not(:disabled):active:not([data-state]){background:var(--tui-background-neutral-1-hover)}[tuiAppearance][data-appearance=file][data-state=active]{background:var(--tui-background-neutral-1-hover)}[tuiAppearance][data-appearance=file]:disabled:not([data-state]),[tuiAppearance][data-appearance=file][data-state=disabled]{background:transparent;border-color:var(--tui-text-tertiary)}[tuiAppearance][data-appearance=file]:focus-visible:not([data-focus=false]){border:.125rem solid var(--tui-border-focus)}[tuiAppearance][data-appearance=file][data-focus=true]{border:.125rem solid var(--tui-border-focus)}[tuiAppearance][data-appearance=file]:not(:disabled)[data-mode~=invalid],[tuiAppearance][data-appearance=file]:invalid:not(:disabled):not([data-mode]){border-color:var(--tui-status-negative)!important}
`],encapsulation:2,changeDetection:0});let t=i;return t})();var nn="\xA0";var Qi=new RegExp(`[${nn}APM]+$`,"g"),Ki=new RegExp(`${nn}[AP]M$`,"g"),Bn=[":","."];function Hn(t){return t}var on=/[\\^$.*+?()[\]{}|]/g,jn=new RegExp(on.source);function Un(t){return t&&jn.test(t)?t.replaceAll(on,String.raw`\$&`):t}var qi=new RegExp(`[${Bn.map(Un).join("")}]$`);function rn(t){return t?({value:i,selection:o},e)=>{if(i.startsWith(t)||!i&&!e.value.startsWith(t))return{value:i,selection:o};let[r,n]=o,h=Array.from(t).reduce((B,De,ce)=>B[ce]===De?B:B.slice(0,ce)+De+B.slice(ce),i),x=h.length-i.length;return{selection:[r+x,n+x],value:h}}:Hn}function an(t,i,o){return(e,r)=>{let n=()=>i(e,r);return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}}function sn(t){return an("focus",i=>{i.value||Te(i,t)})}function ln(t){return an("blur",i=>{i.value===t&&Te(i,"")})}var eo=Intl.DateTimeFormat("en-US",{month:"2-digit",day:"2-digit",year:"numeric"});var Yn=["tuiInputColor",""],Zn=()=>({standalone:!0});function Xn(t,i){if(t&1){let o=F();a(0,"input",4),S("ngModelChange",function(r){M(o);let n=d(2);return E(n.onOpacity(r))})("pointerdown.stop",function(){M(o);let r=d(2);return E(r.el.focus())}),l()}if(t&2){let o=d(2);u("ngModel",o.opacity())("ngModelOptions",$e(2,Zn))}}function Jn(t,i){if(t&1){let o=F();L(0),a(1,"input",2,0),S("input",function(){M(o);let r=G(2),n=d();return E(n.onInput(r.value))}),l(),_(3,Xn,1,3,"input",3),W()}if(t&2){let o=d();s(),We("--t-opacity",o.filled()?o.opacity()/255:0),D("tui-input-color_start",o.align()==="start"),u("disabled",!o.interactive())("value",o.value().length>6?o.value().slice(0,7):""),k("list",o.list),s(2),v(o.format()==="hexa"&&o.interactive()?3:-1)}}var[Qn,xo]=V({format:"hex",align:"start"}),Kn=/[0-9a-fA-F]/,qn='"data:image/svg+xml;utf8,<svg xmlns=http://www.w3.org/2000/svg></svg>"',un=(()=>{let i=class i extends ne{constructor(){super(...arguments),this.options=f(Qn),this.el=te(),this.list=f(new Be("list"),{optional:!0}),this.start=f(lt).iconStart()||"",this.icon=ct(C(()=>this.align()==="start"?qn:this.start),{}),this.maskito=At(C((e=this.format().length*2)=>({mask:["#",...Array.from({length:e}).fill(Kn)],postprocessors:[rn("#")],plugins:[sn("#"),ln("#")],overwriteMode:"replace"}))),this.filled=C(()=>this.format()==="hex"?this.value().length===7:this.value().length===9),this.opacity=C(()=>this.filled()&&this.format()==="hexa"?Number.parseInt(this.value().slice(-2),16):255),this.format=b(this.options.format),this.align=b(this.options.align)}onInput(e){this.onChange(this.format()==="hex"?e:`${e}${cn(this.opacity())}`)}onOpacity(e){let r=this.filled()?this.value().slice(0,7):"#000000";this.onChange(`${r}${cn(e)}`)}};i.\u0275fac=(()=>{let e;return function(n){return(e||(e=O(i)))(n||i)}})(),i.\u0275cmp=T({type:i,selectors:[["input","tuiInputColor",""]],hostAttrs:["ngSkipHydration","true","spellcheck","false"],hostVars:3,hostBindings:function(r,n){r&1&&S("input",function(x){return n.onChange(x.target.value)}),r&2&&($("disabled",n.disabled())("value",n.value()),k("list",null))},inputs:{format:[1,"format"],align:[1,"align"]},features:[A([ie(i),rt("")]),I([Dt,Ct]),N],attrs:Yn,decls:1,vars:0,consts:[["input",""],[4,"tuiTextfieldContent"],["tabindex","-1","type","color",1,"tui-input-color_picker",3,"input","disabled","value"],["max","255","tuiSlider","","type","range",3,"ngModel","ngModelOptions"],["max","255","tuiSlider","","type","range",3,"ngModelChange","pointerdown.stop","ngModel","ngModelOptions"]],template:function(r,n){r&1&&w(0,Jn,4,8,"ng-container",1)},dependencies:[q,X,K,J,Q,ae,_t],styles:[`.tui-input-color_picker.tui-input-color_picker{position:relative;font-size:1rem;inline-size:calc(var(--t-height) / 2);block-size:calc(var(--t-height) / 2);border:none;border-radius:100%;padding:0!important;overflow:hidden;cursor:pointer;order:100;background:repeating-conic-gradient(var(--tui-border-normal) 0% 25%,transparent 0% 50%);box-shadow:0 0 0 1px var(--tui-border-normal)}.tui-input-color_picker.tui-input-color_picker:disabled{cursor:default}tui-textfield[data-size=s] .tui-input-color_picker{margin-inline-end:.25rem}tui-textfield[data-size=l] .tui-input-color_picker{margin-inline-end:-.25rem}.tui-input-color_picker.tui-input-color_start{position:absolute;top:50%;inset-inline-start:calc(var(--t-height) / 4);transform:translateY(-50%)}.tui-input-color_picker::-webkit-color-swatch-wrapper{padding:0}.tui-input-color_picker::-webkit-color-swatch{border:none;opacity:var(--t-opacity)}.tui-input-color_picker::-moz-color-swatch{border:none;opacity:var(--t-opacity)}
`],encapsulation:2,changeDetection:0});let t=i;return t})();function cn(t){return t.toString(16).padStart(2,"0")}function ei(t,i){if(t&1&&y(0,"tui-data-list-wrapper",29),t&2){let o=d();u("items",o.items)}}function ti(t,i){if(t&1&&y(0,"tui-file",13),t&2){let o=d();u("file",o.file)}}function ni(t,i){if(t&1&&y(0,"canvas-draw-image",17),t&2){let o=d();u("dHeight",o.dHeight)("dWidth",o.dWidth)("dX",o.dX)("dY",o.dY)("image",o.image)}}var Ee=class t{x1=20;y1=20;w1=100;h1=50;x2=50;y2=50;w2=100;h2=50;c2="#00ff00";dX=0;dY=0;dWidth=100;dHeight=100;globalCompositeOperation="source-over";mouth=30;blur=0;offset=0;font='bold 40px "Lucida Bright"';text="PAC-MAN";color="#ffa500";file=null;image=Ze(f(ke))?new Image:null;items=["source-over","multiply","screen"];constructor(){if(this.image){let i=this.image;i.onload=()=>{URL.revokeObjectURL(i.src)}}}onFile(i){this.file=i,i&&this.image&&(this.image.src=URL.createObjectURL(i))}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=T({type:t,selectors:[["canvas-page"]],decls:98,vars:58,consts:[["tuiTextfieldSize","m"],["tuiLabel","",1,"child"],["max","300","min","0","tuiSlider","","type","range",3,"ngModelChange","ngModel"],["max","150","min","0","tuiSlider","","type","range",3,"ngModelChange","ngModel"],[1,"row"],["tuiChevron","",1,"child"],["tuiLabel",""],["tuiSelect","",3,"ngModelChange","ngModel"],[3,"items",4,"tuiDropdown"],[1,"child"],["tuiInputColor","",3,"ngModelChange","ngModel"],["tuiInputFiles",""],["tuiInputFiles","",3,"ngModelChange","ngModel"],["tuiItem","",3,"file"],[1,"child",3,"expanded"],[1,"controls"],["waCanvas2d",""],[3,"dHeight","dWidth","dX","dY","image"],["fillStyle","#f00"],[3,"height","width","x","y"],[3,"fillStyle","globalCompositeOperation"],["max","45","min","0.01","tuiSlider","","type","range",3,"ngModelChange","ngModel"],["max","10","min","0","tuiSlider","","type","range",3,"ngModelChange","ngModel"],["tuiTextfield","",3,"ngModelChange","ngModel"],["waCanvas2d","",3,"height","transform","width"],["fillStyle","gold","shadowColor","grey",3,"shadowBlur","shadowOffsetY"],[3,"endAngle","radius","startAngle","x","y"],[3,"x","y"],[3,"fillStyle","font","maxWidth","text","x","y"],[3,"items"]],template:function(o,e){o&1&&(a(0,"h2"),c(1,"Basic example"),l(),a(2,"section",0)(3,"fieldset")(4,"label",1),c(5," x "),a(6,"input",2),g("ngModelChange",function(n){return m(e.x1,n)||(e.x1=n),n}),l()(),a(7,"label",1),c(8," y "),a(9,"input",3),g("ngModelChange",function(n){return m(e.y1,n)||(e.y1=n),n}),l()(),a(10,"label",1),c(11," width "),a(12,"input",2),g("ngModelChange",function(n){return m(e.w1,n)||(e.w1=n),n}),l()(),a(13,"label",1),c(14," height "),a(15,"input",3),g("ngModelChange",function(n){return m(e.h1,n)||(e.h1=n),n}),l()()(),a(16,"fieldset")(17,"label",1),c(18," x "),a(19,"input",2),g("ngModelChange",function(n){return m(e.x2,n)||(e.x2=n),n}),l()(),a(20,"label",1),c(21," y "),a(22,"input",3),g("ngModelChange",function(n){return m(e.y2,n)||(e.y2=n),n}),l()(),a(23,"label",1),c(24," width "),a(25,"input",2),g("ngModelChange",function(n){return m(e.w2,n)||(e.w2=n),n}),l()(),a(26,"label",1),c(27," height "),a(28,"input",3),g("ngModelChange",function(n){return m(e.h2,n)||(e.h2=n),n}),l()(),a(29,"div",4)(30,"tui-textfield",5)(31,"label",6),c(32,"Overlay"),l(),a(33,"input",7),g("ngModelChange",function(n){return m(e.globalCompositeOperation,n)||(e.globalCompositeOperation=n),n}),l(),w(34,ei,1,1,"tui-data-list-wrapper",8),l(),a(35,"tui-textfield",9)(36,"label",6),c(37,"Color"),l(),a(38,"input",10),g("ngModelChange",function(n){return m(e.c2,n)||(e.c2=n),n}),l()()()(),a(39,"fieldset")(40,"label",11)(41,"input",12),S("ngModelChange",function(n){return e.onFile(n)}),l()(),a(42,"tui-files"),_(43,ti,1,1,"tui-file",13),l(),a(44,"tui-expand",14)(45,"div",15)(46,"label",6),c(47," dX "),a(48,"input",2),g("ngModelChange",function(n){return m(e.dX,n)||(e.dX=n),n}),l()(),a(49,"label",6),c(50," dY "),a(51,"input",3),g("ngModelChange",function(n){return m(e.dY,n)||(e.dY=n),n}),l()(),a(52,"label",6),c(53," dWidth "),a(54,"input",2),g("ngModelChange",function(n){return m(e.dWidth,n)||(e.dWidth=n),n}),l()(),a(55,"label",6),c(56," dHeight "),a(57,"input",3),g("ngModelChange",function(n){return m(e.dHeight,n)||(e.dHeight=n),n}),l()()()()()(),a(58,"canvas",16),_(59,ni,1,5,"canvas-draw-image",17),a(60,"canvas-path",18),y(61,"canvas-rect",19),l(),a(62,"canvas-path",20),y(63,"canvas-rect",19),l()(),a(64,"h2"),c(65,"Path example"),l(),a(66,"section",0)(67,"fieldset")(68,"label",1),c(69," Pac-Man mouth "),a(70,"input",21),g("ngModelChange",function(n){return m(e.mouth,n)||(e.mouth=n),n}),l()(),a(71,"label",1),c(72," Pac-Man shadow blur "),a(73,"input",22),g("ngModelChange",function(n){return m(e.blur,n)||(e.blur=n),n}),l()(),a(74,"label",1),c(75," Pac-Man shadow distance "),a(76,"input",22),g("ngModelChange",function(n){return m(e.offset,n)||(e.offset=n),n}),l()()(),a(77,"fieldset")(78,"tui-textfield",9)(79,"label",6),c(80,"Text"),l(),a(81,"input",23),g("ngModelChange",function(n){return m(e.text,n)||(e.text=n),n}),l()(),a(82,"tui-textfield",9)(83,"label",6),c(84,"Font"),l(),a(85,"input",23),g("ngModelChange",function(n){return m(e.font,n)||(e.font=n),n}),l()(),a(86,"tui-textfield",9)(87,"label",6),c(88,"Color"),l(),a(89,"input",10),g("ngModelChange",function(n){return m(e.color,n)||(e.color=n),n}),l()()()(),a(90,"canvas",24),Y(91,"transform"),a(92,"canvas-path",25),y(93,"canvas-arc",26),Y(94,"rad"),Y(95,"rad"),y(96,"canvas-line-to",27),l(),y(97,"canvas-text",28),l()),o&2&&(s(6),p("ngModel",e.x1),s(3),p("ngModel",e.y1),s(3),p("ngModel",e.w1),s(3),p("ngModel",e.h1),s(4),p("ngModel",e.x2),s(3),p("ngModel",e.y2),s(3),p("ngModel",e.w2),s(3),p("ngModel",e.h2),s(5),p("ngModel",e.globalCompositeOperation),s(5),p("ngModel",e.c2),s(3),u("ngModel",e.file),s(2),v(e.file?43:-1),s(),u("expanded",!!e.file),s(4),p("ngModel",e.dX),s(3),p("ngModel",e.dY),s(3),p("ngModel",e.dWidth),s(3),p("ngModel",e.dHeight),s(2),v(e.image?59:-1),s(2),u("height",e.h1)("width",e.w1)("x",e.x1)("y",e.y1),s(),u("fillStyle",e.c2)("globalCompositeOperation",e.globalCompositeOperation),s(),u("height",e.h2)("width",e.w2)("x",e.x2)("y",e.y2),s(7),p("ngModel",e.mouth),s(3),p("ngModel",e.blur),s(3),p("ngModel",e.offset),s(5),p("ngModel",e.text),s(4),p("ngModel",e.font),s(4),p("ngModel",e.color),s(),u("height",300)("transform",Z(91,52,"scale(2, 2)"))("width",600),s(2),u("shadowBlur",e.blur)("shadowOffsetY",e.offset),s(),u("endAngle",Z(94,54,-e.mouth))("radius",30)("startAngle",Z(95,56,e.mouth))("x",50)("y",75),s(3),u("x",50)("y",75),s(),u("fillStyle",e.color)("font",e.font)("maxWidth",200)("text",e.text)("x",90)("y",90))},dependencies:[Ye,q,X,K,J,Q,bt,Ft,oe,z,qt,le,en,se,un,ht,we,be,gt,It,ae,Ot,Rt,Nt,kt,Lt,Wt,$t,Bt,Ht,jt,Ut,Gt,Vt,zt],styles:["[_nghost-%COMP%]{display:block;max-inline-size:50rem;margin:0 auto}.row[_ngcontent-%COMP%]{display:flex;min-inline-size:100%;gap:.75rem}.child[_ngcontent-%COMP%]{flex:1;min-inline-size:6.25rem}.controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}input[_ngcontent-%COMP%]{margin:0}fieldset[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;border:none;background:#f5f5f5;padding:.75rem;margin:.75rem 0;gap:.75rem;border-radius:1.25rem}canvas[_ngcontent-%COMP%]{display:block;inline-size:18.75rem;block-size:9.375rem;margin:0 auto 2.5rem;border-radius:.375rem;box-shadow:0 .75rem 2.25rem #0003}label[_ngcontent-%COMP%]{align-items:center}"],changeDetection:0})};export{Ee as default};
