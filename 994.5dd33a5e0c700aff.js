"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[994],{5994:(_,h,r)=>{r.r(h),r.d(h,{default:()=>b});var i=r(1423),l=r(6610),t=r(2978),c=r(7212),u=r(8823),m=r(9406);let g=(()=>{var e;class o{constructor(){(0,i.A)(this,"document",(0,t.WQX)(l.qQ))}get isSupported(){return"startViewTransition"in this.document}startViewTransition(s){return this.isSupported?new m.c(a=>{const d=this.document.startViewTransition(s);return d.updateCallbackDone.then(()=>{a.next(d)},p=>{a.error(p)}),d.ready.catch(p=>{a.error(p)}),d.finished.then(()=>{a.complete()},p=>{a.error(p)}),()=>{d.skipTransition()}}):(0,u.$)(()=>new Error("startViewTransition is not supported in your browser"))}}return e=o,(0,i.A)(o,"\u0275fac",function(s){return new(s||e)}),(0,i.A)(o,"\u0275prov",t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})),o})();var v=r(4612),x=r(7355),f=r(3490),w=r(5981);function T(e,o){if(1&e){const n=t.RV6();t.j41(0,"div",7),t.bIt("click",function(){const d=t.eBV(n).index,p=t.XpG(3);return t.Njj(p.open(d))}),t.j41(1,"span",8),t.EFF(2," Photo by "),t.j41(3,"a",9),t.EFF(4),t.k0s()(),t.nrm(5,"img",10),t.k0s()}if(2&e){const n=o.$implicit,s=o.index,a=t.XpG(2).tuiLet;t.R7$(3),t.Y8G("href",n.url,t.B4B),t.R7$(1),t.SpI(" ",n.author," "),t.R7$(1),t.xc7("view-transition-name",a.activeIndex===s?"expandable-image":null),t.Y8G("src",n.src,t.B4B)}}function P(e,o){if(1&e&&(t.j41(0,"div",5),t.DNE(1,T,6,5,"div",6),t.k0s()),2&e){const n=t.XpG(2);t.R7$(1),t.Y8G("ngForOf",n.data)}}function V(e,o){if(1&e){const n=t.RV6();t.j41(0,"div",11)(1,"img",12),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.close())}),t.k0s()()}if(2&e){const n=t.XpG().tuiLet;t.R7$(1),t.Y8G("src",n.detailInfo.src,t.B4B)}}function y(e,o){if(1&e&&(t.qex(0),t.DNE(1,P,2,1,"div",3),t.DNE(2,V,2,1,"div",4),t.bVm()),2&e){const n=o.tuiLet;t.R7$(1),t.Y8G("ngIf",!n.detailInfo),t.R7$(1),t.Y8G("ngIf",n.detailInfo)}}const C=function(){return["ts"]},I=function(e,o){return{detailInfo:e,activeIndex:o}},j=[{src:"https://images.pexels.com/photos/16316785/pexels-photo-16316785/free-photo-of-fluffy-cat-on-blooming-tree-background.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",author:"Peng Louis",url:"https://www.pexels.com/photo/fluffy-cat-on-blooming-tree-background-16316785/"},{src:"https://images.pexels.com/photos/6001385/pexels-photo-6001385.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",author:"Sam Lion",url:"https://www.pexels.com/photo/cute-curious-cat-watching-video-on-laptop-sitting-on-couch-6001385/"},{src:"https://images.pexels.com/photos/7210265/pexels-photo-7210265.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",author:"Blue Bird",url:"https://www.pexels.com/photo/ginger-cat-sleeping-on-ground-in-autumn-7210265/"}],b=(()=>{var e;class o{constructor(){(0,i.A)(this,"viewTransitionService",(0,t.WQX)(g)),(0,i.A)(this,"cdr",(0,t.WQX)(t.gRc)),(0,i.A)(this,"destroyRef",(0,t.WQX)(t.abz)),(0,i.A)(this,"codeSample","\n    // 1) Import service throught DI\n    // In Constructor\n    constructor(private viewTransitionService: ViewTransitionService) {}\n    // or with inject (Angular 14+)\n    private service = inject(ViewTransitionService);\n\n    // 2) Call startViewTransition method and pass callback that would change the DOM\n    private showMyComponent(): void {\n        this.viewTransitionService.startViewTransition(() => {\n            this.showMyComponent = true;\n            // You might want to call detectChanges to update the DOM inside startViewTransition callback\n            this.cdr.detectChanges();\n        }).subscribe();\n    }\n"),(0,i.A)(this,"data",j),(0,i.A)(this,"activeIndex$",new w.t(-1)),(0,i.A)(this,"detailInfo$",new w.t(void 0))}open(s){this.activeIndex$.next(s),this.viewTransitionService.startViewTransition(()=>{this.detailInfo$.next(this.data[s]),this.cdr.detectChanges()}).pipe((0,c.pQ)(this.destroyRef)).subscribe()}close(){this.viewTransitionService.startViewTransition(()=>{this.detailInfo$.next(void 0),this.cdr.detectChanges(),this.activeIndex$.next(-1)}).pipe((0,c.pQ)(this.destroyRef)).subscribe()}}return e=o,(0,i.A)(o,"\u0275fac",function(s){return new(s||e)}),(0,i.A)(o,"\u0275cmp",t.VBU({type:e,selectors:[["view-transition-page"]],standalone:!0,features:[t.aNF],decls:16,vars:11,consts:[[3,"highlight","languages"],[4,"tuiLet"],["href","https://www.pexels.com","rel","noreferrer","target","_blank","tuiLink",""],["class","photos",4,"ngIf"],["class","expanded-photo",4,"ngIf"],[1,"photos"],["class","photo",3,"click",4,"ngFor","ngForOf"],[1,"photo",3,"click"],[1,"author"],["target","_blank",3,"href"],["alt","img",3,"src"],[1,"expanded-photo"],["alt","image",3,"src","click"]],template:function(s,a){1&s&&(t.j41(0,"h2"),t.EFF(1,"How to use"),t.k0s(),t.j41(2,"p"),t.EFF(3," Usage is pretty simple: just import service in your component and call "),t.j41(4,"code"),t.EFF(5,"startViewTransition"),t.k0s(),t.EFF(6," on it.\n"),t.k0s(),t.j41(7,"pre"),t.nrm(8,"code",0),t.k0s(),t.j41(9,"h2"),t.EFF(10,"Basic example"),t.k0s(),t.DNE(11,y,3,2,"ng-container",1),t.nI1(12,"async"),t.nI1(13,"async"),t.j41(14,"a",2),t.EFF(15," Photos provided by Pexels\n"),t.k0s()),2&s&&(t.R7$(8),t.Y8G("highlight",a.codeSample)("languages",t.lJ4(7,C)),t.R7$(3),t.Y8G("tuiLet",t.l_i(8,I,t.bMT(12,3,a.detailInfo$),t.bMT(13,5,a.activeIndex$))))},dependencies:[l.MD,l.Sq,l.bT,l.Jj,f.fw,f.f4,v.c,x.Jc],styles:["[_nghost-%COMP%]{display:flex;align-items:center;flex-direction:column}.photos[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;flex-wrap:wrap;gap:1rem;margin:1rem 0}.photo[_ngcontent-%COMP%]{display:flex;inline-size:12rem;flex-direction:column;align-items:center;cursor:pointer}.photo[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{margin-bottom:.5rem}.photo[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;inline-size:100%;border-radius:.5rem;transition:transform .2s}.photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.expanded-photo[_ngcontent-%COMP%]{display:flex;margin:0 auto 1rem;inline-size:20rem;cursor:pointer}.expanded-photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;view-transition-name:expandable-image;border-radius:1rem;box-shadow:0 .75rem 2.25rem #0003;inline-size:100%}"],changeDetection:0})),o})()},4612:(_,h,r)=>{r.d(h,{c:()=>t});var i=r(2978);class l{constructor(u){this.internalDirectiveInstance=u}get $implicit(){return this.internalDirectiveInstance.tuiLet}get tuiLet(){return this.internalDirectiveInstance.tuiLet}}let t=(()=>{var c;class u{constructor(){(0,i.WQX)(i.c1b).createEmbeddedView((0,i.WQX)(i.C4Q),new l(this))}static ngTemplateContextGuard(g,v){return!0}}return(c=u).\u0275fac=function(g){return new(g||c)},c.\u0275dir=i.FsC({type:c,selectors:[["","tuiLet",""]],inputs:{tuiLet:"tuiLet"},standalone:!0}),u})()}}]);