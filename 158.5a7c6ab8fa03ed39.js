"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[158],{2158:(De,R,d)=>{d.r(R),d.d(R,{default:()=>je});var s=d(1423),w=d(6978),e=d(1489),A=d(8832),_=d(1767),E=d(4135),V=d(5639),D=d(8419),k=d(4225),P=d(3019),z=d(6230),Q=d(7212),q=d(958),$=d(5543),Y=d(4043),U=d(4314),B=d(8395);d(9141);const L=["type","radio","tuiRadio",""],W={size:"m",appearance:({checked:i})=>i?"primary":"outline-grayscale"},G=new e.nKC("",{factory:()=>W});let X=(()=>{var i;class r{constructor(){this.appearance=(0,e.WQX)(B.bC),this.destroyRef=(0,e.WQX)(e.abz),this.cdr=(0,e.WQX)(e.gRc),this.options=(0,e.WQX)(G),this.el=(0,Y.qW)(),this.control=(0,e.WQX)(A.vO,{self:!0,optional:!0}),this.size=this.options.size}ngOnInit(){var t,n;null==(n=null==(t=this.control)?void 0:t.valueChanges)||n.pipe((0,$.Eb)(this.cdr),(0,Q.pQ)(this.destroyRef)).subscribe()}ngDoCheck(){this.appearance.tuiAppearance=(0,U.YB)(this.options.appearance)?this.options.appearance:this.options.appearance(this.el)}}return(i=r).\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.VBU({type:i,selectors:[["input","type","radio","tuiRadio",""]],hostVars:4,hostBindings:function(t,n){2&t&&(e.Mr5("disabled",!n.control||n.control.disabled),e.BMQ("data-size",n.size),e.AVh("_readonly",!n.control))},inputs:{size:"size"},features:[e.nM4([{directive:B.bC,inputs:["tuiAppearanceState","tuiAppearanceState","tuiAppearanceFocus","tuiAppearanceFocus","tuiAppearanceMode","tuiAppearanceMode"]},q.W])],attrs:L,decls:0,vars:0,template:function(t,n){},styles:['[tuiRadio]{--t-size: 1.5rem;transition-property:background,box-shadow;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;inline-size:var(--t-size);block-size:var(--t-size);cursor:pointer;margin:0;flex-shrink:0;border-radius:100%;color:var(--tui-text-primary-on-accent-1)}[tuiRadio]:disabled._readonly._readonly{opacity:1}[tuiRadio]:before{position:absolute;top:0;left:0;bottom:0;right:0;content:"";margin:auto;border-radius:100%;background:currentColor;transform:scale(0);transition-property:transform}[tuiRadio]:checked:before{transform:scale(.5)}[tuiRadio][data-size=s]{--t-size: 1rem}[tuiRadio]:invalid:not([data-mode]),[tuiRadio][data-mode~=invalid]{color:#fff}\n'],encapsulation:2,changeDetection:0}),r})();var J=d(617),K=d(5180),Z=d(4882),ee=d(9134),M=d(7270),te=d(6104),ne=d(2831),oe=d(756),b=d(6041),ie=d(4087),m=d(4814),v=d(4917),f=d(7813);let ae=(()=>{var i;class r extends AudioBufferSourceNode{constructor(t,n,o){const c=(0,e.WQX)(ie.U),u=(0,e.WQX)(_.p),l=(0,e.WQX)(v.L),C=(0,f.q)(n,0),g=(0,f.q)(o,1);if(!l){const y=u.createBufferSource();return Object.setPrototypeOf(r.prototype,Object.getPrototypeOf(y)),Object.setPrototypeOf(y,r.prototype),y.playbackRate.value=g,r.init(y,null,t,c),y}super(u,{detune:C,playbackRate:g}),(0,s.A)(this,"buffer$",void 0),(0,s.A)(this,"detuneParam",void 0),(0,s.A)(this,"playbackRateParam",void 0),(0,s.A)(this,"ended",void 0),r.init(this,null,t,c)}static init(t,n,o,c){null!==o&&t.start();const u=new e.bkB;t.ended=u,t.onended=()=>u.emit(),t.buffer$=new te.B,t.buffer$.pipe((0,ne.n)(l=>"string"==typeof l?c.fetch(l):(0,oe.of)(l))).subscribe(l=>{t.buffer=l})}set bufferSetter(t){this.buffer$.next(t)}ngOnDestroy(){this.buffer$.complete();try{this.stop()}catch{}this.disconnect()}}return i=r,(0,s.A)(r,"\u0275fac",function(t){return new(t||i)(e.kS0("autoplay"),e.kS0("detune"),e.kS0("playbackRate"))}),(0,s.A)(r,"\u0275dir",e.FsC({type:i,selectors:[["","waAudioBufferSourceNode",""]],inputs:{loop:"loop",loopStart:"loopStart",loopEnd:"loopEnd",channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation",detuneParam:[0,"detune","detuneParam"],playbackRateParam:[0,"playbackRate","playbackRateParam"],bufferSetter:[0,"buffer","bufferSetter"]},outputs:{ended:"ended"},exportAs:["AudioNode"],features:[e.Jv_([(0,m.TD)(i)]),e.Vt3]})),(0,M.Cg)([(0,b.i)("detune")],r.prototype,"detuneParam",void 0),(0,M.Cg)([(0,b.i)("playbackRate")],r.prototype,"playbackRateParam",void 0),r})(),re=(()=>{var i;class r extends MediaElementAudioSourceNode{constructor(){const t=(0,e.WQX)(_.p),n=(0,e.WQX)(v.L),o=(0,e.WQX)(e.aKT).nativeElement;if(!n){const c=t.createMediaElementSource(o);return Object.setPrototypeOf(c,r.prototype),c}super(t,{mediaElement:o})}ngOnDestroy(){this.disconnect()}}return i=r,(0,s.A)(r,"\u0275fac",function(t){return new(t||i)}),(0,s.A)(r,"\u0275dir",e.FsC({type:i,selectors:[["audio","waMediaElementAudioSourceNode",""],["video","waMediaElementAudioSourceNode",""]],exportAs:["AudioNode"],features:[e.Jv_([(0,m.TD)(i)]),e.Vt3]})),r})();var se=d(6823),N=d(2928),S=d(9255),T=d(3527),j=d(7782),h=d(8088);let de=(()=>{var i;class r extends AnalyserNode{constructor(t,n,o,c){const u=(0,e.WQX)(_.p),l=(0,e.WQX)(m.aN,{skipSelf:!0}),C=(0,e.WQX)(v.L),g=(0,f.q)(t,2048),y=(0,f.q)(n,-30),x=(0,f.q)(o,-100),F=(0,f.q)(c,.8);if(!C){const p=u.createAnalyser();return Object.setPrototypeOf(p,r.prototype),r.init(p,l),p.fftSize=g,p.maxDecibels=y,p.minDecibels=x,p.smoothingTimeConstant=F,p}super(u,{fftSize:g,maxDecibels:y,minDecibels:x,smoothingTimeConstant:F}),(0,s.A)(this,"frequencyByte$",void 0),(0,s.A)(this,"frequencyFloat$",void 0),(0,s.A)(this,"timeByte$",void 0),(0,s.A)(this,"timeFloat$",void 0),r.init(this,l)}static init(t,n){(0,h.N)(n,t);let o=new Uint8Array(t.frequencyBinCount),c=new Float32Array(t.frequencyBinCount),u=new Uint8Array(t.fftSize),l=new Float32Array(t.fftSize);t.frequencyByte$=(0,N.Y)(0,S.X).pipe((0,T.T)(()=>(o.length!==t.frequencyBinCount&&(o=new Uint8Array(t.frequencyBinCount)),t.getByteFrequencyData(o),o)),(0,j.u)()),t.frequencyFloat$=(0,N.Y)(0,S.X).pipe((0,T.T)(()=>(c.length!==t.frequencyBinCount&&(c=new Float32Array(t.frequencyBinCount)),t.getFloatFrequencyData(c),c)),(0,j.u)()),t.timeByte$=(0,N.Y)(0,S.X).pipe((0,T.T)(()=>(u.length!==t.fftSize&&(u=new Uint8Array(t.frequencyBinCount)),t.getByteTimeDomainData(u),u)),(0,j.u)()),t.timeFloat$=(0,N.Y)(0,S.X).pipe((0,T.T)(()=>(l.length!==t.fftSize&&(l=new Float32Array(t.frequencyBinCount)),t.getFloatTimeDomainData(l),l)),(0,j.u)())}ngOnDestroy(){this.disconnect()}}return i=r,(0,s.A)(r,"\u0275fac",function(t){return new(t||i)(e.kS0("fftSize"),e.kS0("maxDecibels"),e.kS0("minDecibels"),e.kS0("smoothingTimeConstant"))}),(0,s.A)(r,"\u0275dir",e.FsC({type:i,selectors:[["","waAnalyserNode",""]],inputs:{fftSize:"fftSize",minDecibels:"minDecibels",maxDecibels:"maxDecibels",smoothingTimeConstant:"smoothingTimeConstant",channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation"},outputs:{frequencyByte$:"frequencyByte$",frequencyFloat$:"frequencyFloat$",timeByte$:"timeByte$",timeFloat$:"timeFloat$"},exportAs:["AudioNode"],features:[e.Jv_([(0,m.TD)(i)]),e.Vt3]})),r})(),ce=(()=>{var i;class r extends BiquadFilterNode{constructor(t,n,o,c){const u=(0,e.WQX)(_.p),l=(0,e.WQX)(v.L),C=(0,e.WQX)(m.aN,{skipSelf:!0}),g=(0,f.q)(t,0),y=(0,f.q)(n,350),x=(0,f.q)(o,0),F=(0,f.q)(c,1);if(!l){const p=u.createBiquadFilter();return Object.setPrototypeOf(p,r.prototype),p.detune.value=g,p.frequency.value=y,p.gain.value=x,p.Q.value=F,(0,h.N)(C,p),p}super(u,{detune:g,frequency:y,gain:x,Q:F}),(0,s.A)(this,"detuneParam",void 0),(0,s.A)(this,"frequencyParam",void 0),(0,s.A)(this,"gainParam",void 0),(0,s.A)(this,"qParam",void 0),(0,h.N)(C,this)}static init(t,n){(0,h.N)(n,t)}ngOnDestroy(){this.disconnect()}}return i=r,(0,s.A)(r,"\u0275fac",function(t){return new(t||i)(e.kS0("detune"),e.kS0("frequency"),e.kS0("gain"),e.kS0("Q"))}),(0,s.A)(r,"\u0275dir",e.FsC({type:i,selectors:[["","waBiquadFilterNode",""]],inputs:{type:"type",channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation",detuneParam:[0,"detune","detuneParam"],frequencyParam:[0,"frequency","frequencyParam"],gainParam:[0,"gain","gainParam"],qParam:[0,"Q","qParam"]},exportAs:["AudioNode"],features:[e.Jv_([(0,m.TD)(i)]),e.Vt3]})),(0,M.Cg)([(0,b.i)("detune")],r.prototype,"detuneParam",void 0),(0,M.Cg)([(0,b.i)("frequency")],r.prototype,"frequencyParam",void 0),(0,M.Cg)([(0,b.i)("gain")],r.prototype,"gainParam",void 0),(0,M.Cg)([(0,b.i)("Q")],r.prototype,"qParam",void 0),r})();var ue=d(9092);let le=(()=>{var i;class r extends DelayNode{constructor(t,n){const o=(0,e.WQX)(_.p),c=(0,e.WQX)(m.aN,{skipSelf:!0}),u=(0,e.WQX)(v.L),l=(0,f.q)(t,0),C=(0,f.q)(n,1);if(!u){const g=o.createDelay(C);return Object.setPrototypeOf(g,r.prototype),(0,h.N)(c,g),g.delayTime.value=l,g}super(o,{delayTime:l,maxDelayTime:C}),(0,s.A)(this,"delayTimeParam",void 0),(0,h.N)(c,this)}static init(t,n){(0,h.N)(n,t)}ngOnDestroy(){this.disconnect()}}return i=r,(0,s.A)(r,"\u0275fac",function(t){return new(t||i)(e.kS0("delayTime"),e.kS0("maxDelayTime"))}),(0,s.A)(r,"\u0275dir",e.FsC({type:i,selectors:[["","waDelayNode",""]],inputs:{channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation",delayTimeParam:[0,"delayTime","delayTimeParam"]},exportAs:["AudioNode"],features:[e.Jv_([(0,m.TD)(i)]),e.Vt3]})),(0,M.Cg)([(0,b.i)("delayTime")],r.prototype,"delayTimeParam",void 0),r})();var pe=d(7019);function O(i){var r;if(!i)return 0;if("number"==typeof i)return i;if(i instanceof Array){const a=null==(r=i[i.length-1])?void 0:r.value;return"number"==typeof a?a:(null==a?void 0:a[a.length-1])??0}return i.value instanceof Array?i.value[i.value.length-1]??0:i.value}var fe=d(5612);let ge=(()=>{var i;class r extends StereoPannerNode{constructor(t){const n=(0,e.WQX)(_.p),o=(0,e.WQX)(m.aN,{skipSelf:!0}),c=(0,f.q)(t,0);try{new StereoPannerNode(n)}catch{const u=n.createPanner();return Object.setPrototypeOf(u,r.prototype),u.fallbackToPannerNode(O(c)),(0,h.N)(o,u),u}super(n,{pan:c}),(0,h.N)(o,this)}set panParam(t){"setPosition"in this?this.fallbackToPannerNode(O(t)):(0,fe.D)(this.pan,t,this.context.currentTime)}ngOnDestroy(){this.disconnect()}fallbackToPannerNode(t){const n=100*t,o=n>0?270-n:n+90,c=Math.sin(n*(Math.PI/180)),u=Math.sin(o*(Math.PI/180));this.setPosition(c,0,u)}}return i=r,(0,s.A)(r,"\u0275fac",function(t){return new(t||i)(e.kS0("pan"))}),(0,s.A)(r,"\u0275dir",e.FsC({type:i,selectors:[["","waStereoPannerNode",""]],inputs:{channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation",panParam:[0,"pan","panParam"]},exportAs:["AudioNode"],features:[e.Jv_([(0,m.TD)(i)]),e.Vt3]})),r})(),me=(()=>{var i;class r extends WaveShaperNode{constructor(){const t=(0,e.WQX)(_.p),n=(0,e.WQX)(m.aN,{skipSelf:!0});if(!(0,e.WQX)(v.L)){const c=t.createWaveShaper();return Object.setPrototypeOf(c,r.prototype),(0,h.N)(n,c),c}super(t),(0,h.N)(n,this)}ngOnDestroy(){this.disconnect()}}return i=r,(0,s.A)(r,"\u0275fac",function(t){return new(t||i)}),(0,s.A)(r,"\u0275dir",e.FsC({type:i,selectors:[["","waWaveShaperNode",""]],inputs:{oversample:"oversample",curve:"curve",channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation"},exportAs:["AudioNode"],features:[e.Jv_([(0,m.TD)(i)]),e.Vt3]})),r})(),he=(()=>{var i;class r{transform(t,n,o="exponential"){return t instanceof Array?{value:t,duration:n}:{value:t,duration:n,mode:o}}}return i=r,(0,s.A)(r,"\u0275fac",function(t){return new(t||i)}),(0,s.A)(r,"\u0275pipe",e.EJ8({name:"waAudioParam",type:i,pure:!0})),r})(),ye=(()=>{var i;class r{constructor(){(0,s.A)(this,"context",(0,e.WQX)(_.p))}transform(t,n,o){return this.context.createPeriodicWave(new Float32Array(t),n?new Float32Array(n):new Float32Array(t.length),{disableNormalization:!!o})}}return i=r,(0,s.A)(r,"\u0275fac",function(t){return new(t||i)}),(0,s.A)(r,"\u0275pipe",e.EJ8({name:"waPeriodicWave",type:i,pure:!0})),r})();const _e=["chain"];function Ce(i,r){if(1&i){const a=e.RV6();e.j41(0,"button",4),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.start())}),e.EFF(1," Start AudioContext "),e.k0s()}}function Ae(i,r){if(1&i){const a=e.RV6();e.j41(0,"button",19,1),e.bIt("click",function(n){e.eBV(a);const o=e.sdS(1),c=e.XpG(3);return e.Njj(c.onClick(o,n.target))}),e.EFF(2," Play "),e.qex(3,20),e.bIt("timeByte$",function(n){e.eBV(a);const o=e.XpG(3);return e.Njj(o.onTimeDomain(n))}),e.eu8(4,21),e.bVm(),e.k0s()}if(2&i){e.XpG(2);const a=e.sdS(29),t=e.XpG();e.Y8G("loop",!0),e.R7$(3),e.Y8G("fftSize",t.fftSize),e.R7$(),e.Y8G("waOutput",t.chain||a)}}function Pe(i,r){if(1&i&&e.Z7z(0,Ae,5,3,"button",18,e.Vm6),2&i){const a=e.XpG(2);e.Dyx(a.buffers)}}function Me(i,r){if(1&i){const a=e.RV6();e.j41(0,"audio",9),e.qex(1,20),e.bIt("timeByte$",function(n){e.eBV(a);const o=e.XpG(2);return e.Njj(o.onTimeDomain(n))}),e.eu8(2,21),e.bVm(),e.k0s()}if(2&i){e.XpG();const a=e.sdS(29),t=e.XpG();e.R7$(),e.Y8G("fftSize",t.fftSize),e.R7$(),e.Y8G("waOutput",t.chain||a)}}function be(i,r){if(1&i){const a=e.RV6();e.j41(0,"button",23,1),e.nI1(2,"waPeriodicWave"),e.bIt("click",function(n){e.eBV(a);const o=e.sdS(1),c=e.XpG(3);return e.Njj(c.onClick(o,n.target))}),e.EFF(3," Play "),e.qex(4,20),e.bIt("timeByte$",function(n){e.eBV(a);const o=e.XpG(3);return e.Njj(o.onTimeDomain(n))}),e.eu8(5,21),e.bVm(),e.k0s()}if(2&i){e.XpG(2);const a=e.sdS(29),t=e.XpG();e.Y8G("frequency",100)("periodicWave",e.bMT(2,4,t.real)),e.R7$(4),e.Y8G("fftSize",t.fftSize),e.R7$(),e.Y8G("waOutput",t.chain||a)}}function ve(i,r){if(1&i&&e.Z7z(0,be,6,6,"button",22,e.Vm6),2&i){const a=e.XpG(2);e.Dyx(a.buffers)}}function xe(i,r){if(1&i){const a=e.RV6();e.j41(0,"fieldset",16,2),e.nI1(2,"waAudioParam"),e.j41(3,"legend"),e.EFF(4,"GainNode"),e.k0s(),e.j41(5,"input",24),e.mxI("ngModelChange",function(n){e.eBV(a);const o=e.XpG(2);return e.DH7(o.gain,n)||(o.gain=n),e.Njj(n)}),e.k0s(),e.j41(6,"fieldset",25),e.nI1(7,"waAudioParam"),e.j41(8,"legend"),e.EFF(9,"StereoPannerNode"),e.k0s(),e.j41(10,"input",26),e.mxI("ngModelChange",function(n){e.eBV(a);const o=e.XpG(2);return e.DH7(o.pan,n)||(o.pan=n),e.Njj(n)}),e.k0s(),e.j41(11,"fieldset",27)(12,"legend"),e.EFF(13,"AudioDestinationNode"),e.k0s()()()()}if(2&i){const a=e.XpG(2);e.Y8G("gain",e.i5U(2,4,a.gain,.1)),e.R7$(5),e.R50("ngModel",a.gain),e.R7$(),e.Y8G("pan",e.i5U(7,7,a.pan,.1)),e.R7$(4),e.R50("ngModel",a.pan)}}function Fe(i,r){if(1&i){const a=e.RV6();e.j41(0,"fieldset",16,2),e.nI1(2,"waAudioParam"),e.j41(3,"legend"),e.EFF(4,"GainNode"),e.k0s(),e.j41(5,"em"),e.EFF(6,"For feedback loop purposes only"),e.k0s(),e.j41(7,"fieldset",28),e.nI1(8,"waAudioParam"),e.j41(9,"legend"),e.EFF(10,"DelayNode"),e.k0s(),e.j41(11,"input",24),e.mxI("ngModelChange",function(n){e.eBV(a);const o=e.XpG(2);return e.DH7(o.delayTime,n)||(o.delayTime=n),e.Njj(n)}),e.k0s(),e.j41(12,"fieldset",16)(13,"legend"),e.EFF(14,"GainNode"),e.k0s(),e.j41(15,"input",24),e.mxI("ngModelChange",function(n){e.eBV(a);const o=e.XpG(2);return e.DH7(o.delayGain,n)||(o.delayGain=n),e.Njj(n)}),e.k0s(),e.j41(16,"fieldset",21)(17,"legend"),e.EFF(18,"Output"),e.k0s(),e.j41(19,"em"),e.EFF(20,"Connected back to the beginning of the chain"),e.k0s()()()(),e.j41(21,"fieldset",27)(22,"legend"),e.EFF(23,"AudioDestinationNode"),e.k0s()()()}if(2&i){const a=e.sdS(1),t=e.XpG(2);e.Y8G("gain",e.i5U(2,6,t.gain,.1)),e.R7$(7),e.Y8G("delayTime",e.i5U(8,9,t.delayTime,.1)),e.R7$(4),e.R50("ngModel",t.delayTime),e.R7$(),e.Y8G("gain",t.delayGain),e.R7$(3),e.R50("ngModel",t.delayGain),e.R7$(),e.Y8G("waOutput",a)}}function Ne(i,r){if(1&i&&e.nrm(0,"tui-data-list-wrapper",37),2&i){const a=e.XpG(3);e.Y8G("items",a.items)}}function Se(i,r){if(1&i){const a=e.RV6();e.j41(0,"fieldset",17,2),e.nI1(2,"waAudioParam"),e.nI1(3,"waAudioParam"),e.nI1(4,"waAudioParam"),e.nI1(5,"waAudioParam"),e.j41(6,"legend"),e.EFF(7,"BiquadFilterNode"),e.k0s(),e.j41(8,"tui-select",29),e.mxI("ngModelChange",function(n){e.eBV(a);const o=e.XpG(2);return e.DH7(o.type,n)||(o.type=n),e.Njj(n)}),e.EFF(9," Type "),e.DNE(10,Ne,1,1,"tui-data-list-wrapper",30),e.k0s(),e.j41(11,"label",5),e.EFF(12," gain "),e.j41(13,"input",24),e.mxI("ngModelChange",function(n){e.eBV(a);const o=e.XpG(2);return e.DH7(o.filterGain,n)||(o.filterGain=n),e.Njj(n)}),e.k0s()(),e.j41(14,"label",5),e.EFF(15," frequence "),e.j41(16,"input",31),e.mxI("ngModelChange",function(n){e.eBV(a);const o=e.XpG(2);return e.DH7(o.frequency,n)||(o.frequency=n),e.Njj(n)}),e.k0s()(),e.j41(17,"label",5),e.EFF(18," Q "),e.j41(19,"input",32),e.mxI("ngModelChange",function(n){e.eBV(a);const o=e.XpG(2);return e.DH7(o.q,n)||(o.q=n),e.Njj(n)}),e.k0s()(),e.j41(20,"label",5),e.EFF(21," detune "),e.j41(22,"input",33),e.mxI("ngModelChange",function(n){e.eBV(a);const o=e.XpG(2);return e.DH7(o.detune,n)||(o.detune=n),e.Njj(n)}),e.k0s()(),e.j41(23,"fieldset",34)(24,"legend"),e.EFF(25,"WaveShaperNode"),e.k0s(),e.j41(26,"input",35),e.bIt("ngModelChange",function(n){e.eBV(a);const o=e.XpG(2);return e.Njj(o.onCurveChange(n))}),e.k0s(),e.qex(27,16),e.nI1(28,"waAudioParam"),e.j41(29,"fieldset",36)(30,"legend"),e.EFF(31,"ConvolverNode"),e.k0s(),e.j41(32,"fieldset",27)(33,"legend"),e.EFF(34,"AudioDestinationNode"),e.k0s()()(),e.bVm(),e.k0s()()}if(2&i){const a=e.XpG(2);e.Y8G("detune",e.i5U(2,13,a.detune,.1))("frequency",e.i5U(3,16,a.frequency,.1))("gain",e.i5U(4,19,a.filterGain,.1))("Q",e.i5U(5,22,a.q,.1))("type",a.type),e.R7$(8),e.R50("ngModel",a.type),e.R7$(5),e.R50("ngModel",a.filterGain),e.R7$(3),e.R50("ngModel",a.frequency),e.R7$(3),e.R50("ngModel",a.q),e.R7$(3),e.R50("ngModel",a.detune),e.R7$(),e.Y8G("curve",a.curve),e.R7$(3),e.Y8G("ngModel",a.distortion),e.R7$(),e.Y8G("gain",e.i5U(28,25,a.distortionCompensation,.1))}}function Te(i,r){if(1&i){const a=e.RV6();e.j41(0,"section")(1,"h2"),e.EFF(2,"Description"),e.k0s(),e.j41(3,"p"),e.EFF(4," This is a demo for "),e.j41(5,"strong"),e.EFF(6,"@ng-web-apis/audio"),e.k0s(),e.EFF(7," \u2014 a Web Audio API declarative library for Angular. Here you can select different audio source options and see AudioNode graph for selected configuration. Demo page uses HTML elements as directives hosts, in real life scenario you can use "),e.j41(8,"code"),e.EFF(9,"ng-container"),e.k0s(),e.EFF(10," so you will not have redundant DOM tags. "),e.k0s()(),e.j41(11,"section")(12,"h2"),e.EFF(13,"Source"),e.k0s(),e.j41(14,"label",5)(15,"input",6),e.mxI("ngModelChange",function(n){e.eBV(a);const o=e.XpG();return e.DH7(o.selectedSource,n)||(o.selectedSource=n),e.Njj(n)}),e.k0s(),e.EFF(16," AudioBufferSourceNode "),e.k0s(),e.j41(17,"label",5)(18,"input",7),e.mxI("ngModelChange",function(n){e.eBV(a);const o=e.XpG();return e.DH7(o.selectedSource,n)||(o.selectedSource=n),e.Njj(n)}),e.k0s(),e.EFF(19," MediaElementAudioSourceNode "),e.k0s(),e.j41(20,"label",5)(21,"input",8),e.mxI("ngModelChange",function(n){e.eBV(a);const o=e.XpG();return e.DH7(o.selectedSource,n)||(o.selectedSource=n),e.Njj(n)}),e.k0s(),e.EFF(22," OscillatorNode "),e.k0s(),e.DNE(23,Pe,2,0)(24,Me,3,2,"audio",9)(25,ve,2,0),e.j41(26,"p")(27,"canvas",10,0),e.nrm(30,"canvas-path",11),e.nI1(31,"path"),e.nI1(32,"transform"),e.k0s()()(),e.j41(33,"section")(34,"h2"),e.EFF(35,"Chain"),e.k0s(),e.j41(36,"label",5)(37,"input",12),e.mxI("ngModelChange",function(n){e.eBV(a);const o=e.XpG();return e.DH7(o.selectedChain,n)||(o.selectedChain=n),e.Njj(n)}),e.k0s(),e.EFF(38," Dry "),e.k0s(),e.j41(39,"label",5)(40,"input",13),e.mxI("ngModelChange",function(n){e.eBV(a);const o=e.XpG();return e.DH7(o.selectedChain,n)||(o.selectedChain=n),e.Njj(n)}),e.k0s(),e.EFF(41," Balance "),e.k0s(),e.j41(42,"label",5)(43,"input",14),e.mxI("ngModelChange",function(n){e.eBV(a);const o=e.XpG();return e.DH7(o.selectedChain,n)||(o.selectedChain=n),e.Njj(n)}),e.k0s(),e.EFF(44," Delay "),e.k0s(),e.j41(45,"label",5)(46,"input",15),e.mxI("ngModelChange",function(n){e.eBV(a);const o=e.XpG();return e.DH7(o.selectedChain,n)||(o.selectedChain=n),e.Njj(n)}),e.k0s(),e.EFF(47," Complex "),e.k0s(),e.DNE(48,xe,14,10,"fieldset",16)(49,Fe,24,12,"fieldset",16)(50,Se,35,28,"fieldset",17),e.k0s()}if(2&i){let a,t;const n=e.sdS(28),o=e.XpG();e.R7$(15),e.R50("ngModel",o.selectedSource),e.R7$(3),e.R50("ngModel",o.selectedSource),e.R7$(3),e.R50("ngModel",o.selectedSource),e.R7$(2),e.vxM("buffer"===(a=o.selectedSource)?23:"media"===a?24:"oscillator"===a?25:-1),e.R7$(7),e.Y8G("lineWidth",4/n.height)("path",e.bMT(31,12,o.path))("transform",e.bMT(32,14,o.getTransform(n))),e.R7$(7),e.R50("ngModel",o.selectedChain),e.R7$(3),e.R50("ngModel",o.selectedChain),e.R7$(3),e.R50("ngModel",o.selectedChain),e.R7$(3),e.R50("ngModel",o.selectedChain),e.R7$(2),e.vxM("balance"===(t=o.selectedChain)?48:"delay"===t?49:"complex"===t?50:-1)}}let je=(()=>{var i;class r{constructor(){(0,s.A)(this,"context",(0,e.WQX)(_.p)),(0,s.A)(this,"chain",void 0),(0,s.A)(this,"buffers",[Date.now()]),(0,s.A)(this,"selectedChain","dry"),(0,s.A)(this,"selectedSource","buffer"),(0,s.A)(this,"gain",1),(0,s.A)(this,"pan",0),(0,s.A)(this,"delayTime",1),(0,s.A)(this,"delayGain",.5),(0,s.A)(this,"distortion",20),(0,s.A)(this,"frequency",350),(0,s.A)(this,"detune",0),(0,s.A)(this,"filterGain",0),(0,s.A)(this,"q",1),(0,s.A)(this,"type","lowpass"),(0,s.A)(this,"curve",I(this.distortion)),(0,s.A)(this,"started",!1),(0,s.A)(this,"fftSize",2048),(0,s.A)(this,"path",""),(0,s.A)(this,"items",["lowpass","highpass","bandpass","lowshelf","highshelf","peaking","notch","allpass"]),(0,s.A)(this,"real",[0,0,1,0,1])}get distortionCompensation(){return 1.2-this.distortion/20}start(){this.started=!0,this.context.resume()}getTransform({width:t,height:n}){return`scale(${t/this.fftSize}, ${n/2})`}onCurveChange(t){this.distortion=t,this.curve=I(t)}onClick(t,n){"Play"===n.textContent.trim()?(n.textContent="Stop",t.start()):this.buffers[0]=Date.now()}onTimeDomain(t){this.path=t.reduce((n,o,c)=>`${n} L ${c} ${o/128}`,"M 0 0")}}return i=r,(0,s.A)(r,"\u0275fac",function(t){return new(t||i)}),(0,s.A)(r,"\u0275cmp",e.VBU({type:i,selectors:[["audio-page"]],viewQuery:function(t,n){if(1&t&&e.GBs(_e,5),2&t){let o;e.mGM(o=e.lsd())&&(n.chain=o.first)}},decls:2,vars:1,consts:[["canvas","","fallback","AudioNode"],["source","AudioNode"],["chain","AudioNode"],["appearance","secondary","tuiButton","","type","button"],["appearance","secondary","tuiButton","","type","button",3,"click"],["tuiLabel",""],["name","source","tuiRadio","","type","radio","value","buffer",3,"ngModelChange","ngModel"],["name","source","tuiRadio","","type","radio","value","media",3,"ngModelChange","ngModel"],["name","source","tuiRadio","","type","radio","value","oscillator",3,"ngModelChange","ngModel"],["controls","","loop","","src","assets/demo.mp3","waMediaElementAudioSourceNode",""],["waAudioDestinationNode","","waCanvas2d","",1,"canvas"],["fillStyle","transparent","strokeStyle","black",3,"lineWidth","path","transform"],["name","chain","tuiRadio","","type","radio","value","dry",3,"ngModelChange","ngModel"],["name","chain","tuiRadio","","type","radio","value","balance",3,"ngModelChange","ngModel"],["name","chain","tuiRadio","","type","radio","value","delay",3,"ngModelChange","ngModel"],["name","chain","tuiRadio","","type","radio","value","complex",3,"ngModelChange","ngModel"],["waGainNode","",3,"gain"],["waBiquadFilterNode","",3,"detune","frequency","gain","Q","type"],["buffer","assets/demo.mp3","size","s","tuiButton","","type","button","waAudioBufferSourceNode","",3,"loop"],["buffer","assets/demo.mp3","size","s","tuiButton","","type","button","waAudioBufferSourceNode","",3,"click","loop"],["waAnalyserNode","",3,"timeByte$","fftSize"],[3,"waOutput"],["size","s","tuiButton","","type","button","waOscillatorNode","",3,"frequency","periodicWave"],["size","s","tuiButton","","type","button","waOscillatorNode","",3,"click","frequency","periodicWave"],["max","1","min","0","step","0.01","tuiSlider","","type","range",3,"ngModelChange","ngModel"],["waStereoPannerNode","",3,"pan"],["max","1","min","-1","step","0.01","tuiSlider","","type","range",3,"ngModelChange","ngModel"],["waAudioDestinationNode",""],["waDelayNode","",3,"delayTime"],["tuiTextfieldSize","m",3,"ngModelChange","ngModel"],[3,"items",4,"tuiDataList"],["max","5000","min","20","tuiSlider","","type","range",3,"ngModelChange","ngModel"],["max","100","min","1","tuiSlider","","type","range",3,"ngModelChange","ngModel"],["max","100","min","0","tuiSlider","","type","range",3,"ngModelChange","ngModel"],["oversample","4x","waWaveShaperNode","",3,"curve"],["max","20","min","0","step","0.1","tuiSlider","","type","range",3,"ngModelChange","ngModel"],["buffer","assets/response.m4a","waConvolverNode",""],[3,"items"]],template:function(t,n){1&t&&e.DNE(0,Ce,2,0,"button",3)(1,Te,51,16),2&t&&e.vxM(n.started?1:0)},dependencies:[P.x1,P._u,P.kk,P.ST,P.Qi,P.Tm,P.d9,w.MD,A.YN,A.me,A.MR,A.Fm,A.BC,A.vS,E.p,z.df,K.WX,V.z,X,D.pg,D.ET,D.ww,J.xb,k.CN,k.G6,Z.V,ee.g,ae,re,se.F,de,ce,ue.H,le,pe.U,ge,me,he,ye],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;gap:.75rem}@media (max-width: 1100px){[_nghost-%COMP%]{flex-direction:column;inline-size:320px;margin:0 auto}}tui-radio-labeled[_ngcontent-%COMP%]{margin:1rem 0}section[_ngcontent-%COMP%]{flex:1;max-inline-size:20rem;padding:.0625rem .625rem .625rem;box-sizing:border-box;background:#f5f5f5;border-radius:.5rem}audio[_ngcontent-%COMP%]{margin-block-start:1em}label[_ngcontent-%COMP%]{margin-block-start:.5rem}input[_ngcontent-%COMP%]{margin:0}fieldset[_ngcontent-%COMP%]{margin-block-start:1em;border:none;border-radius:.25rem}legend[_ngcontent-%COMP%]{background:#fff;box-shadow:0 0 2px;padding:.3125rem .625rem;border-radius:2px}*[ng-reflect--waoutput][_ngcontent-%COMP%]{background:#d8bfd8}*[waGainNode][_ngcontent-%COMP%]{background:pink}*[waDelayNode][_ngcontent-%COMP%]{background:#90ee90}*[waStereoPannerNode][_ngcontent-%COMP%]{background:#87ceeb}*[waAudioDestinationNode][_ngcontent-%COMP%]{background:khaki}*[waWaveShaperNode][_ngcontent-%COMP%]{background:salmon}*[waBiquadFilterNode][_ngcontent-%COMP%]{background:gold}*[waConvolverNode][_ngcontent-%COMP%]{background:#7fffd4}"],changeDetection:0})),r})();function I(i){const a=new Float32Array(44100),t=Math.PI/180;for(let n=0;n<44100;++n){const o=2*n/44100-1;a[n]=(3+i)*o*20*t/(Math.PI+i*Math.abs(o))}return a}}}]);