import{b as h}from"./chunk-Y7XNAN3T.js";import{a as x}from"./chunk-PCT2X63S.js";import{Db as s,Fb as _,Kc as E,Oa as n,Y as N,e as l,ka as f,na as i,pa as t}from"./chunk-KG2R5REB.js";var O=typeof IntersectionObserver<"u"?IntersectionObserver:class{root=null;rootMargin="";thresholds=[];observe(){}unobserve(){}disconnect(){}takeRecords(){return[]}};var c=new i("[WA_INTERSECTION_ROOT]");var b="0px 0px 0px 0px",y=new i("[WA_INTERSECTION_ROOT_MARGIN]",{factory:()=>b});function S(){return t(n).nativeElement.getAttribute("waIntersectionRootMargin")||b}var u=0,A=new i("[WA_INTERSECTION_THRESHOLD]",{factory:()=>u});function W(){return t(n).nativeElement.getAttribute("waIntersectionThreshold")?.split(",").map(parseFloat)||u}var m=class o extends O{callbacks=new Map;margin="";threshold="";constructor(){let r=t(c,{optional:!0});super(e=>{this.callbacks.forEach((a,v)=>{let d=e.filter(({target:w})=>w===v);d.length&&a(d,this)})},{root:r?.nativeElement,rootMargin:S(),threshold:W()})}observe(r,e=()=>{}){super.observe(r),this.callbacks.set(r,e)}unobserve(r){super.unobserve(r),this.callbacks.delete(r)}ngOnDestroy(){this.disconnect()}static \u0275fac=function(e){return new(e||o)};static \u0275dir=s({type:o,selectors:[["","waIntersectionObserver",""]],inputs:{margin:[0,"waIntersectionRootMargin","margin"],threshold:[0,"waIntersectionThreshold","threshold"]},exportAs:["IntersectionObserver"],features:[_]})};var p=class o extends l{constructor(){let r=t(n).nativeElement,e=t(m);return super(a=>(e.observe(r,v=>{a.next(v)}),()=>{e.unobserve(r)})),this.pipe(N())}static \u0275fac=function(e){return new(e||o)};static \u0275prov=f({token:o,factory:o.\u0275fac})};var T=class o{waIntersectionObservee=h(t(p));static \u0275fac=function(e){return new(e||o)};static \u0275dir=s({type:o,selectors:[["","waIntersectionObservee",""]],outputs:{waIntersectionObservee:"waIntersectionObservee"},features:[E([p])]})};var R=class o{static \u0275fac=function(e){return new(e||o)};static \u0275dir=s({type:o,selectors:[["","waIntersectionRoot",""]],features:[E([{provide:c,useExisting:n}])]})};var Ie=new i("[WA_INTERSECTION_OBSERVER_SUPPORT]: [WA_INTERSECTION_OBSERVER_SUPPORT]",{factory:()=>!!t(x).IntersectionObserver});var D=class o extends l{nativeElement=t(n).nativeElement;rootMargin=t(y);threshold=t(A);root=t(c,{optional:!0})?.nativeElement??null;constructor(){super(r=>{let e=new O(a=>{r.next(a)},{root:this.root,rootMargin:this.rootMargin,threshold:this.threshold});return e.observe(this.nativeElement),()=>{e.disconnect()}})}static \u0275fac=function(e){return new(e||o)};static \u0275prov=f({token:o,factory:o.\u0275fac})};export{m as a,T as b,R as c,Ie as d};
