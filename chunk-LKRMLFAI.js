import{b as U}from"./chunk-LTLPOGSA.js";import{D as L,G as j}from"./chunk-3VG4TGX5.js";import{b as B}from"./chunk-NSMAPXG6.js";import"./chunk-MVBQ4QH2.js";import"./chunk-OTLIHRLE.js";import"./chunk-7DO6NSGI.js";import"./chunk-JYWUUMHF.js";import"./chunk-34U4OIOH.js";import{a as V,e as N,f as W,i as k}from"./chunk-5OKOC4JC.js";import"./chunk-P3XR4P57.js";import"./chunk-UNR3ZOEG.js";import"./chunk-Y7XNAN3T.js";import"./chunk-PCT2X63S.js";import"./chunk-QAYQBKTV.js";import{l as R}from"./chunk-X37QOLRV.js";import{Bb as D,Bc as P,Db as I,Ec as g,Fb as x,Fc as f,Gc as v,Kc as F,Oa as c,Ob as E,Pb as w,Rb as C,Wb as S,Xb as l,Yb as s,Zc as A,e as h,jb as u,jc as m,ka as y,na as T,pa as o,zc as p}from"./chunk-KG2R5REB.js";import"./chunk-GAL4ENT6.js";var M=typeof MutationObserver<"u"?MutationObserver:class{observe(){}disconnect(){}takeRecords(){return[]}};var b=new T("[WA_MUTATION_OBSERVER_INIT]");function d(e,r){return e.getAttribute(r)!==null||void 0}function z(){let{nativeElement:e}=o(c);return{attributeFilter:e.getAttribute("attributeFilter")?.split(",").map(n=>n.trim()),attributeOldValue:d(e,"attributeOldValue"),attributes:d(e,"attributes"),characterData:d(e,"characterData"),characterDataOldValue:d(e,"characterDataOldValue"),childList:d(e,"childList"),subtree:d(e,"subtree")}}var O=class e extends M{nativeElement=o(c).nativeElement;config=o(b);attributeFilter="";attributeOldValue="";attributes="";characterData="";characterDataOldValue="";childList="";subtree="";waMutationObserver=A();constructor(){super(r=>{this.waMutationObserver.emit(r)}),this.observe(this.nativeElement,this.config)}ngOnDestroy(){this.disconnect()}static \u0275fac=function(n){return new(n||e)};static \u0275dir=I({type:e,selectors:[["","waMutationObserver",""]],inputs:{attributeFilter:"attributeFilter",attributeOldValue:"attributeOldValue",attributes:"attributes",characterData:"characterData",characterDataOldValue:"characterDataOldValue",childList:"childList",subtree:"subtree"},outputs:{waMutationObserver:"waMutationObserver"},exportAs:["MutationObserver"],features:[F([{provide:b,useFactory:z}]),x]})};var q=class e extends h{constructor(){let r=o(c).nativeElement,n=o(b);super(t=>{let a=new M(i=>{t.next(i)});return a.observe(r,n),()=>{a.disconnect()}})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=y({token:e,factory:e.\u0275fac})};function H(e,r){e&1&&p(0," I am dynamically added DOM element ")}function J(e,r){e&1&&(l(0,"div"),p(1,"See console for logged mutations"),s())}var _=class e{toggled=!1;disabled=null;title="title";text="text";ignored="Ignored aria-label attribute";toggleDOM(){this.toggled=!this.toggled}toggleAttr(){this.disabled=!this.disabled||null}log(r){console.info(r)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=D({type:e,selectors:[["mutation-observer-page"]],decls:16,vars:8,consts:[["tuiGroup",""],["appearance","secondary","size","m","tuiButton","","type","button",3,"click"],["tuiGroup","","tuiTextfieldSize","m"],["aria-label","title","tuiTextfield","",3,"ngModelChange","ngModel"],["aria-label","text","tuiTextfield","",3,"ngModelChange","ngModel"],["aria-label","ignored","tuiTextfield","",3,"ngModelChange","ngModel"],["attributeFilter","title, disabled","characterData","","childList","","subtree","",1,"observer",3,"waMutationObserver","title"]],template:function(n,t){n&1&&(l(0,"p",0)(1,"button",1),m("click",function(){return t.toggleDOM()}),p(2," Toggle DOM change "),s(),l(3,"button",1),m("click",function(){return t.toggleAttr()}),p(4," Toggle attribute "),s()(),l(5,"p",2)(6,"tui-textfield")(7,"input",3),v("ngModelChange",function(i){return f(t.title,i)||(t.title=i),i}),s()(),l(8,"tui-textfield")(9,"input",4),v("ngModelChange",function(i){return f(t.text,i)||(t.text=i),i}),s()(),l(10,"tui-textfield")(11,"input",5),v("ngModelChange",function(i){return f(t.ignored,i)||(t.ignored=i),i}),s()()(),l(12,"div",6),m("waMutationObserver",function(i){return t.log(i)}),p(13),w(14,H,1,0)(15,J,2,0,"div"),s()),n&2&&(u(7),g("ngModel",t.title),u(2),g("ngModel",t.text),u(2),g("ngModel",t.ignored),u(),S("title",t.title),E("aria-label",t.ignored)("disabled",t.disabled),u(),P(' I am being observed for text changes, DOM changes and "title" and "disabled" attributes: ',t.text," "),u(),C(t.toggled?14:15))},dependencies:[R,k,V,N,W,B,U,j,L,O],styles:["[_nghost-%COMP%]{display:block;max-inline-size:37.5rem;margin:0 auto}.observer[_ngcontent-%COMP%]{background:#87ceeb;border-radius:1rem;padding:2.5rem}"],changeDetection:0})};export{_ as default};
